{"version":3,"sources":["./src/app/messagesPage/chatPage/chatPage.html","./src/app/messagesPage/messagesPage.html","./src/app/messagesPage/chatPage/chatPage.scss","./src/app/messagesPage/chatPage/chatPage.ts","./src/app/messagesPage/messagesPage.module.ts","./src/app/messagesPage/messagesPage.scss","./src/app/messagesPage/messagesPage.ts"],"names":[],"mappings":"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","file":"messagesPage-messagesPage-module-es2015.js","sourcesContent":["export default \"\\n<ion-header translucent=\\\"true\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n    <ion-toolbar dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button defaultHref=\\\"tabs/messages\\\" (click)=\\\"GlobalFields.senderMsgSelected = undefined\\\"></ion-back-button>\\n        </ion-buttons>\\n        <ion-title *ngIf=\\\"GlobalFields.senderMsgSelected\\\" style=\\\"font-size: 9pt;\\\"><img class=\\\"avatarImg\\\"  src=\\\"{{GlobalFields.senderMsgSelected.avatar}}\\\"> {{GlobalFields.senderMsgSelected.name}}</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content *ngIf=\\\"loading\\\" style=\\\" position: fixed; background-color: white; z-index: 999999; top: 43px !important;\\\">\\n  <div style=\\\"padding: 15px\\\">\\n    <span *ngFor=\\\"let el of [1,2,3,4,5,6]\\\">\\n       <div style=\\\"width: 100%; margin-bottom: 20px; height: 30px; position: relative;\\\">\\n        <ion-skeleton-text style=\\\"width: 40%; position: absolute; left: 0\\\" animated></ion-skeleton-text>\\n      </div>\\n      <div style=\\\"width: 100%; margin-bottom: 20px; height: 30px; position: relative;\\\">\\n        <ion-skeleton-text style=\\\"width: 40%; position: absolute; right: 0\\\" animated></ion-skeleton-text>\\n      </div>\\n    </span>\\n  </div>\\n\\n</ion-content>\\n\\n<ion-content #scrollElement style=\\\"margin-top: 20px; transform: rotate(180deg);\\\"  *ngIf=\\\"GlobalFields.msgsSelected\\\" class=\\\"cards-bg social-cards\\\" [ngStyle]=\\\"GlobalFields.getBodyColorBackgroundJson()\\\"  dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n\\n    <div id=\\\"msgContainer\\\" style=\\\"transform: rotate(180deg);\\\" *ngIf=\\\"GlobalFields.msgsSelected && GlobalFields.msgsSelected.ml && GlobalFields.senderMsgSelected\\\" >\\n\\n        <ion-row *ngFor=\\\"let key of getKeysOfObj(GlobalFields.msgsSelected.ml)\\\"   dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n            <ion-col size=\\\"12\\\" style=\\\"padding: 15px; max-width: calc(100% - 60px)\\\"  *ngIf=\\\"GlobalFields.msgsSelected.ml[key]\\\">\\n\\n                <span class=\\\"msgDate\\\" [class.msgMineOther]=\\\"GlobalFields.msgsSelected.ml[key].sender == GlobalFields.senderMsgSelected.id\\\"   dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">{{getGoodStringDate(GlobalFields.msgsSelected.ml[key].utime * 1000)}}</span>\\n                <p class=\\\"msgMine\\\" *ngIf=\\\"GlobalFields.msgsSelected.ml[key].sender != GlobalFields.senderMsgSelected.id\\\"  [ngStyle]=\\\"GlobalFields.getPrimaryColorBackgroundJson()\\\"   dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">{{GlobalFields.msgsSelected.ml[key].message}}</p>\\n                <p class=\\\"msgOther\\\" *ngIf=\\\"GlobalFields.msgsSelected.ml[key].sender == GlobalFields.senderMsgSelected.id\\\"   dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">{{GlobalFields.msgsSelected.ml[key].message}}</p>\\n            </ion-col>\\n        </ion-row>\\n\\n        <p class=\\\"msgMine\\\" *ngIf=\\\"loadingMsg\\\"  [ngStyle]=\\\"GlobalFields.getPrimaryColorBackgroundJson()\\\"   dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\"><i class=\\\"fas fa-spinner fa-spin\\\"></i></p>\\n\\n    </div>\\n\\n\\n  <div style=\\\"transform: rotate(180deg); position: fixed; top: -1px; padding: 10px; padding-bottom:20px; width: 100%; background-color: white\\\">\\n        <textarea id=\\\"myInput\\\" #myInput\\n                  class=\\\"textAreaSend\\\"\\n                  (keyup)=\\\"resize()\\\"\\n                  placeholder=\\\"{{'YOUR_MESSAGE' | translate}}\\\"\\n                  [(ngModel)]=\\\"msgToSend\\\"\\n                  dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\"\\n        ></textarea>\\n    <button class=\\\"btnSend\\\" [ngStyle]=\\\"GlobalFields.getPrimaryColorBackgroundJson()\\\" (click)=\\\"sendMsg()\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\"><i class=\\\"far fa-paper-plane\\\"></i></button>\\n  </div>\\n\\n  <!--<<div style=\\\"transform: rotate(180deg); position: fixed; box-shadow: 0 -1px 2px rgba(0,0,0,.1); top: -1px; padding: 10px; padding-bottom:20px; width: 100%; background-color: white\\\">\\n     <!-row  dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n         <ion-col size=\\\"10\\\">\\n             <ion-textarea style=\\\"border: solid 1px #e3e3e3; padding: 5px; border-radius: 5px;\\\"\\n                     id=\\\"myInput\\\" #myInput\\n                     [autoGrow]=\\\"true\\\"\\n                     [autofocus]=\\\"true\\\"\\n                     placeholder=\\\"{{'YOUR_MESSAGE' | translate}}\\\"\\n                     [(ngModel)]=\\\"msgToSend\\\"\\n                     dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\"\\n             >\\n             </ion-textarea>\\n         </ion-col>\\n         <ion-col size=\\\"2\\\">\\n             <button class=\\\"btnSend\\\" [disabled]=\\\"!this.msgToSend\\\" [ngStyle]=\\\"GlobalFields.getPrimaryColorBackgroundJson()\\\" (click)=\\\"sendMsg()\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\"><i class=\\\"far fa-paper-plane\\\"></i></button>\\n         </ion-col>\\n     </ion-row>\\n\\n    </div>-->\\n</ion-content>\\n\\n\\n\";","export default \"<ion-header translucent=\\\"true\\\" mode=\\\"{{GlobalFields.mode}}\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n  <ion-toolbar>\\n    <!-- If Side menu is used-->\\n    <ion-buttons *ngIf=\\\"GlobalFields.site_details.navigationType==2\\\" slot=\\\"start\\\">\\n      <ion-menu-button style=\\\"color: #3b3c3c\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>{{'MESSAGES' | translate}}</ion-title>\\n    <div *ngIf=\\\"GlobalFields.isLoggedIn\\\" style=\\\"text-align: right\\\"  dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n      <button *ngIf=\\\"!search\\\" class=\\\"btn-search-header\\\" (click)=\\\"search=true\\\">\\n        <i class=\\\"fas fa-edit\\\"></i>\\n      </button>\\n      <button *ngIf=\\\"search\\\" class=\\\"btn-search-header\\\" style=\\\"padding: 8px 10px; color: red\\\" (click)=\\\"search=false; resultSearchListings=undefined\\\">\\n        <i class=\\\"fas fa-times\\\"></i>\\n      </button>\\n    </div>\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<!-- Login -->\\n<ion-content *ngIf=\\\"!GlobalFields.isLoggedIn\\\" class=\\\"cards-bg social-cards\\\" style=\\\"margin-top: 20px; padding: 15px\\\"\\n             [ngStyle]=\\\"GlobalFields.getBodyColorBackgroundJson()\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n  <!-- [ngStyle]=\\\"GlobalFields.getBodyColorBackgroundJson()\\\"  -->\\n\\n  <ion-header collapse=\\\"condense\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n    <ion-toolbar style=\\\"padding: 15px\\\">\\n      <ion-title size=\\\"large\\\">{{'MESSAGES' | translate}}</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  <div class=\\\"pageSection\\\" style=\\\"margin: 15px; margin-top: 20px;\\\">\\n    <loginComponent (loginComplete)=\\\"initMsg()\\\"></loginComponent>\\n  </div>\\n</ion-content>\\n\\n\\n<!-- Msg list-->\\n<ion-content *ngIf=\\\"GlobalFields.isLoggedIn\\\" class=\\\"cards-bg social-cards\\\" style=\\\"margin-top: 10px;\\\"\\n             [ngStyle]=\\\"GlobalFields.getBodyColorBackgroundJson()\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar style=\\\"padding: 15px\\\">\\n      <ion-title size=\\\"large\\\">{{'MESSAGES' | translate}}</ion-title>\\n    </ion-toolbar>\\n    <ion-toolbar *ngIf=\\\"search\\\">\\n      <ion-searchbar #searchInput placeholder=\\\"{{'START_A_NEW_CHAT' | translate}}\\\" animated showCancelButton=\\\"focus\\\"\\n                     (ionInput)=\\\"searchByName($event);\\\" (ionClear)=\\\"resultSearchListings=[]; search=false\\\"\\n                     (keyup.enter)=\\\"doTheSearch(); search=true\\\"\\n                     (keypress)=\\\"doTheSearch($event); search=true\\\"></ion-searchbar>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <!-- Only for android-->\\n  <span class=\\\"hide-ios\\\" *ngIf=\\\"search\\\">\\n        <ion-searchbar #searchInput animated showCancelButton=\\\"focus\\\" (ionInput)=\\\"searchByName($event);\\\"\\n                       (ionClear)=\\\"resultSearchListings=[]; search=false\\\" (keyup.enter)=\\\"doTheSearch(); search=true\\\"\\n                       (keypress)=\\\"doTheSearch($event); search=true\\\"></ion-searchbar>\\n  </span>\\n\\n<!--\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refreshChats($event)\\\">\\n    <ion-refresher-content>\\n    </ion-refresher-content>\\n  </ion-refresher>\\n-->\\n  <!-- Loading animation-->\\n  <div *ngIf=\\\"loadingChats\\\">\\n    <ion-list *ngFor=\\\"let item of [1,2,3,4,5,6,7,8,9,10]\\\">\\n      <ion-item>\\n        <ion-avatar slot=\\\"start\\\">\\n          <ion-skeleton-text animated></ion-skeleton-text>\\n        </ion-avatar>\\n        <ion-label>\\n          <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n          <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n          <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n        </ion-label>\\n      </ion-item>\\n    </ion-list>\\n  </div>\\n\\n  <div *ngIf=\\\"search\\\">\\n    <ion-row *ngFor=\\\"let user of resultSearchListings\\\" style=\\\"line-height: 64px;\\\"\\n             (click)=\\\"getMessages(user); search=false\\\">\\n      <img class=\\\"avatarImg\\\" src=\\\"{{user.avatar}}\\\" style=\\\"margin: 5px; margin-right: 15px;\\\">\\n      {{user.name}}\\n    </ion-row>\\n  </div>\\n\\n  <div style=\\\"width: 100%;\\\" *ngIf=\\\"!loadingChats && chats && !search\\\">\\n    <ion-list>\\n      <ion-item *ngFor=\\\"let chat of chats.chats\\\" (click)=\\\"getMessages(chat.op)\\\" button>\\n     <!-- <ion-item *ngFor=\\\"let key of getKeysOfObj(chats.ml)\\\" (click)=\\\"getMessages(chats.ml[key].op)\\\" button>-->\\n        <ion-avatar slot=\\\"start\\\">\\n          <img src=\\\"{{chat.op.avatar}}\\\">\\n        </ion-avatar>\\n        <ion-label>\\n          <h2 [class]=\\\"'chatName ' +(chat.seen == '0' ? 'newText' : '')\\\">{{chat.op.name}}</h2>\\n          <h3 [class]=\\\"'chatMsg ' +(chat.seen == '0' ? 'newText' : '')\\\">{{chat.message}}</h3>\\n          <p>{{getGoodStringDate(chat.utime * 1000)}}</p>\\n        </ion-label>\\n      </ion-item>\\n    </ion-list>\\n\\n\\n    <!--\\n\\n                <ion-row [className]=\\\"'rowListType ' + isWhiteBackgroundBoxShadow()\\\" >\\n                    <ion-col size=\\\"2\\\" style=\\\"padding: 0 !important; text-align: center; margin-top: 8px;\\\" *ngIf=\\\"chats.ml[key]\\\">\\n                        <img  [class]=\\\"'avatarImg ' +(chats.ml[key].seen == '0' ? 'newImg' : '')\\\"  src=\\\"{{chats.ml[key].op.avatar}}\\\">\\n                    </ion-col>\\n                    <ion-col size=\\\"10\\\" style=\\\"padding: 15px; max-width: calc(100% - 60px)\\\"  *ngIf=\\\"chats.ml[key]\\\">\\n                        <div style=\\\"text-align: left;\\\">\\n                            <div [class]=\\\"'chatName ' +(chats.ml[key].seen == '0' ? 'newText' : '')\\\">{{chats.ml[key].op.name}}</div>\\n                            <div [class]=\\\"'chatMsg ' +(chats.ml[key].seen == '0' ? 'newText' : '')\\\">{{chats.ml[key].message}}</div>\\n                            <div class=\\\"chatTime\\\">\\n                                {{getGoodStringDate(chats.ml[key].utime * 1000)}}\\n                            </div>\\n                        </div>\\n                    </ion-col>\\n                </ion-row>-->\\n  </div>\\n\\n\\n</ion-content>\\n\\n\";","export default \".textAreaSend {\\n  float: left;\\n  width: calc(100% - 50px);\\n  background: transparent !important;\\n  border: solid 1px #dedede !important;\\n  padding: 10px;\\n  font-size: 16px;\\n  color: #242429;\\n  min-height: 35px;\\n  line-height: 1.2;\\n  height: 35px;\\n  box-shadow: none !important;\\n  transition: 0.2s ease;\\n  border-radius: 15px;\\n  font-size: 15px;\\n}\\n\\n.textAreaSend[dir=rtl] {\\n  float: right;\\n}\\n\\n.avatarImg {\\n  width: 30px;\\n  height: 30px;\\n  min-height: 30px;\\n  min-width: 30px;\\n  border-radius: 50%;\\n  margin-right: 5px;\\n}\\n\\n.btnSend {\\n  background: #6c1cff;\\n  color: #fff;\\n  border: #ffdead;\\n  border-radius: 50px;\\n  height: 40px;\\n  width: 40px;\\n  float: right;\\n  outline: none !important;\\n  transition: 0.2s ease;\\n  display: flex;\\n  align-items: center;\\n  font-size: 14pt;\\n  padding-left: 9px;\\n}\\n\\n.btnSend[dir=rtl] {\\n  float: left;\\n  padding-left: 0px;\\n  padding-right: 12px;\\n}\\n\\n.btnSend:disabled {\\n  opacity: 0.4;\\n}\\n\\n.msgMine {\\n  float: right;\\n  background: #6c1cff;\\n  color: #fff;\\n  border-radius: 10px 0 10px 10px;\\n  word-break: break-word;\\n  overflow: hidden;\\n  margin: 0;\\n  padding: 9px 15px;\\n  font-size: 15px;\\n  line-height: 22px !important;\\n}\\n\\n.msgMine[dir=rtl] {\\n  float: left;\\n}\\n\\n.msgOther {\\n  float: left;\\n  background: rgba(189, 189, 189, 0.21);\\n  color: #242429;\\n  border-radius: 0 10px 10px 10px;\\n  word-break: break-word;\\n  overflow: hidden;\\n  margin: 0;\\n  padding: 9px 15px;\\n  font-size: 15px;\\n  line-height: 22px !important;\\n}\\n\\n.msgOther[dir=rtl] {\\n  float: right;\\n}\\n\\n.msgDate {\\n  font-size: 8px;\\n  display: block;\\n  margin-bottom: 5px;\\n  color: #7e7e89;\\n  text-align: right;\\n}\\n\\n.msgDate[dir=rtl] {\\n  text-align: left;\\n}\\n\\n.msgMineOther {\\n  text-align: left !important;\\n}\\n\\n#msgContainer {\\n  width: 100%;\\n  padding: 15px;\\n  padding-bottom: 35px;\\n  margin-top: 115px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lbW1hbnVlbGtldGNoYWJlcGEvRGVza3RvcC9jdXN0b21saXN0aW5nYXBwX3YxXzZfMi9hcHAvc3JjL2FwcC9tZXNzYWdlc1BhZ2UvY2hhdFBhZ2UvY2hhdFBhZ2Uuc2NzcyIsInNyYy9hcHAvbWVzc2FnZXNQYWdlL2NoYXRQYWdlL2NoYXRQYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0VBQ0Esd0JBQUE7RUFDQSxrQ0FBQTtFQUNBLG9DQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSwyQkFBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FER0E7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7QUNBRjs7QURHQTtFQUNFLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHdCQUFBO0VBQ0EscUJBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7QUNBRjs7QURJQTtFQUNFLFdBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0FDREY7O0FES0E7RUFDRSxZQUFBO0FDRkY7O0FES0E7RUFDRSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0VBQ0EsK0JBQUE7RUFDQSxzQkFBQTtFQUNBLGdCQUFBO0VBQ0EsU0FBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLDRCQUFBO0FDRkY7O0FES0E7RUFDRSxXQUFBO0FDRkY7O0FES0E7RUFDRSxXQUFBO0VBQ0EscUNBQUE7RUFDQSxjQUFBO0VBQ0EsK0JBQUE7RUFDQSxzQkFBQTtFQUNBLGdCQUFBO0VBQ0EsU0FBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLDRCQUFBO0FDRkY7O0FES0E7RUFDRSxZQUFBO0FDRkY7O0FES0E7RUFDRSxjQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsY0FBQTtFQUNBLGlCQUFBO0FDRkY7O0FES0E7RUFDRSxnQkFBQTtBQ0ZGOztBREtBO0VBQ0UsMkJBQUE7QUNGRjs7QURLQTtFQUNFLFdBQUE7RUFDQSxhQUFBO0VBQ0Esb0JBQUE7RUFDQSxpQkFBQTtBQ0ZGIiwiZmlsZSI6InNyYy9hcHAvbWVzc2FnZXNQYWdlL2NoYXRQYWdlL2NoYXRQYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGV4dEFyZWFTZW5ke1xuICBmbG9hdDogbGVmdDtcbiAgd2lkdGg6IGNhbGMoMTAwJSAtIDUwcHgpO1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xuICBib3JkZXI6IHNvbGlkIDFweCAjZGVkZWRlICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgY29sb3I6ICMyNDI0Mjk7XG4gIG1pbi1oZWlnaHQ6IDM1cHg7XG4gIGxpbmUtaGVpZ2h0OiAxLjI7XG4gIGhlaWdodDogMzVweDtcbiAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50O1xuICB0cmFuc2l0aW9uOiAwLjJzIGVhc2U7XG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gIGZvbnQtc2l6ZTogMTVweDtcbn1cblxuLnRleHRBcmVhU2VuZFtkaXI9XCJydGxcIl17XG4gIGZsb2F0OiByaWdodDtcbn1cblxuXG4uYXZhdGFySW1ne1xuICB3aWR0aDogMzBweDtcbiAgaGVpZ2h0OiAzMHB4O1xuICBtaW4taGVpZ2h0OiAzMHB4O1xuICBtaW4td2lkdGg6IDMwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5cbi5idG5TZW5ke1xuICBiYWNrZ3JvdW5kOiAjNmMxY2ZmO1xuICBjb2xvcjogI2ZmZjtcbiAgYm9yZGVyOiAjZmZkZWFkO1xuICBib3JkZXItcmFkaXVzOiA1MHB4O1xuICBoZWlnaHQ6IDQwcHg7XG4gIHdpZHRoOiA0MHB4O1xuICBmbG9hdDogcmlnaHQ7XG4gIG91dGxpbmU6IG5vbmUgIWltcG9ydGFudDtcbiAgdHJhbnNpdGlvbjogLjJzIGVhc2U7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMTRwdDtcbiAgcGFkZGluZy1sZWZ0OiA5cHg7XG59XG5cblxuLmJ0blNlbmRbZGlyPVwicnRsXCJde1xuICBmbG9hdDogbGVmdDtcbiAgcGFkZGluZy1sZWZ0OiAwcHg7XG4gIHBhZGRpbmctcmlnaHQ6IDEycHg7XG5cbn1cblxuLmJ0blNlbmQ6ZGlzYWJsZWR7XG4gIG9wYWNpdHk6IDAuNDtcbn1cblxuLm1zZ01pbmV7XG4gIGZsb2F0OiByaWdodDtcbiAgYmFja2dyb3VuZDogIzZjMWNmZjtcbiAgY29sb3I6ICNmZmY7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHggMCAxMHB4IDEwcHg7XG4gIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogOXB4IDE1cHg7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgbGluZS1oZWlnaHQ6IDIycHghaW1wb3J0YW50O1xufVxuXG4ubXNnTWluZVtkaXI9XCJydGxcIl17XG4gIGZsb2F0OiBsZWZ0O1xufVxuXG4ubXNnT3RoZXJ7XG4gIGZsb2F0OiBsZWZ0O1xuICBiYWNrZ3JvdW5kOiByZ2JhKDE4OSwgMTg5LCAxODksIDAuMjEpO1xuICBjb2xvcjogIzI0MjQyOTtcbiAgYm9yZGVyLXJhZGl1czogMCAxMHB4IDEwcHggMTBweDtcbiAgd29yZC1icmVhazogYnJlYWstd29yZDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiA5cHggMTVweDtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBsaW5lLWhlaWdodDogMjJweCFpbXBvcnRhbnQ7XG59XG5cbi5tc2dPdGhlcltkaXI9XCJydGxcIl17XG4gIGZsb2F0OiByaWdodDtcbn1cblxuLm1zZ0RhdGV7XG4gIGZvbnQtc2l6ZTogOHB4O1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICBjb2xvcjogIzdlN2U4OTtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi5tc2dEYXRlW2Rpcj1cInJ0bFwiXXtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbn1cblxuLm1zZ01pbmVPdGhlcntcbiAgdGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50O1xufVxuXG4jbXNnQ29udGFpbmVye1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMTVweDtcbiAgcGFkZGluZy1ib3R0b206IDM1cHg7XG4gIG1hcmdpbi10b3A6IDExNXB4O1xufVxuIiwiLnRleHRBcmVhU2VuZCB7XG4gIGZsb2F0OiBsZWZ0O1xuICB3aWR0aDogY2FsYygxMDAlIC0gNTBweCk7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XG4gIGJvcmRlcjogc29saWQgMXB4ICNkZWRlZGUgIWltcG9ydGFudDtcbiAgcGFkZGluZzogMTBweDtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBjb2xvcjogIzI0MjQyOTtcbiAgbWluLWhlaWdodDogMzVweDtcbiAgbGluZS1oZWlnaHQ6IDEuMjtcbiAgaGVpZ2h0OiAzNXB4O1xuICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XG4gIHRyYW5zaXRpb246IDAuMnMgZWFzZTtcbiAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgZm9udC1zaXplOiAxNXB4O1xufVxuXG4udGV4dEFyZWFTZW5kW2Rpcj1ydGxdIHtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG4uYXZhdGFySW1nIHtcbiAgd2lkdGg6IDMwcHg7XG4gIGhlaWdodDogMzBweDtcbiAgbWluLWhlaWdodDogMzBweDtcbiAgbWluLXdpZHRoOiAzMHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xufVxuXG4uYnRuU2VuZCB7XG4gIGJhY2tncm91bmQ6ICM2YzFjZmY7XG4gIGNvbG9yOiAjZmZmO1xuICBib3JkZXI6ICNmZmRlYWQ7XG4gIGJvcmRlci1yYWRpdXM6IDUwcHg7XG4gIGhlaWdodDogNDBweDtcbiAgd2lkdGg6IDQwcHg7XG4gIGZsb2F0OiByaWdodDtcbiAgb3V0bGluZTogbm9uZSAhaW1wb3J0YW50O1xuICB0cmFuc2l0aW9uOiAwLjJzIGVhc2U7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMTRwdDtcbiAgcGFkZGluZy1sZWZ0OiA5cHg7XG59XG5cbi5idG5TZW5kW2Rpcj1ydGxdIHtcbiAgZmxvYXQ6IGxlZnQ7XG4gIHBhZGRpbmctbGVmdDogMHB4O1xuICBwYWRkaW5nLXJpZ2h0OiAxMnB4O1xufVxuXG4uYnRuU2VuZDpkaXNhYmxlZCB7XG4gIG9wYWNpdHk6IDAuNDtcbn1cblxuLm1zZ01pbmUge1xuICBmbG9hdDogcmlnaHQ7XG4gIGJhY2tncm91bmQ6ICM2YzFjZmY7XG4gIGNvbG9yOiAjZmZmO1xuICBib3JkZXItcmFkaXVzOiAxMHB4IDAgMTBweCAxMHB4O1xuICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDlweCAxNXB4O1xuICBmb250LXNpemU6IDE1cHg7XG4gIGxpbmUtaGVpZ2h0OiAyMnB4ICFpbXBvcnRhbnQ7XG59XG5cbi5tc2dNaW5lW2Rpcj1ydGxdIHtcbiAgZmxvYXQ6IGxlZnQ7XG59XG5cbi5tc2dPdGhlciB7XG4gIGZsb2F0OiBsZWZ0O1xuICBiYWNrZ3JvdW5kOiByZ2JhKDE4OSwgMTg5LCAxODksIDAuMjEpO1xuICBjb2xvcjogIzI0MjQyOTtcbiAgYm9yZGVyLXJhZGl1czogMCAxMHB4IDEwcHggMTBweDtcbiAgd29yZC1icmVhazogYnJlYWstd29yZDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiA5cHggMTVweDtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBsaW5lLWhlaWdodDogMjJweCAhaW1wb3J0YW50O1xufVxuXG4ubXNnT3RoZXJbZGlyPXJ0bF0ge1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbi5tc2dEYXRlIHtcbiAgZm9udC1zaXplOiA4cHg7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gIGNvbG9yOiAjN2U3ZTg5O1xuICB0ZXh0LWFsaWduOiByaWdodDtcbn1cblxuLm1zZ0RhdGVbZGlyPXJ0bF0ge1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuXG4ubXNnTWluZU90aGVyIHtcbiAgdGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50O1xufVxuXG4jbXNnQ29udGFpbmVyIHtcbiAgd2lkdGg6IDEwMCU7XG4gIHBhZGRpbmc6IDE1cHg7XG4gIHBhZGRpbmctYm90dG9tOiAzNXB4O1xuICBtYXJnaW4tdG9wOiAxMTVweDtcbn0iXX0= */\";","import {Component, ElementRef, ViewChild} from '@angular/core';\nimport {Chat} from '../../entities/Chat';\nimport {Service} from '../../services/Service';\nimport {DomSanitizer} from '@angular/platform-browser';\nimport {TranslateService} from '@ngx-translate/core';\nimport {LocationService} from '../../services/LocationService';\nimport {IonContent, NavController} from '@ionic/angular';\nimport {GlobalFields} from '../../../app/GlobalFields';\nimport {Router} from '@angular/router';\n\n\n@Component({\n  selector: 'chatPage',\n  templateUrl: 'chatPage.html',\n  styleUrls: ['chatPage.scss']\n\n})\nexport class ChatPage {\n  @ViewChild('scrollElement') content: IonContent;\n\n\n  GlobalFields = GlobalFields;\n\n  msgsSelected: Chat;\n\n  msgToSend = '';\n\n  loading = true;\n  loadingMsg = false;\n\n  refresher;\n\n  constructor(public service: Service, private _sanitizer: DomSanitizer, public translate: TranslateService,\n              private locationService: LocationService, private navController: NavController, private router: Router) {\n\n  }\n\n\n  ionViewDidEnter() {\n\n    if (this.GlobalFields.senderMsgSelected && this.GlobalFields.senderMsgSelected.id) {\n      this.service.getMsgsOfAChat(this.GlobalFields.senderMsgSelected.id).subscribe((data: any) => {\n        this.GlobalFields.msgsSelected = data;\n        this.loading = false;\n        this.resize();\n        // this.content.scrollToBottom();\n\n        if (GlobalFields.senderMsgSelected)\n          console.log('Mark as seen');\n        this.service.markAsSeenChat(GlobalFields.senderMsgSelected.id).subscribe((data: any) => {\n        });\n\n        this.refresher = setInterval(() => {\n          this.refreshChat();\n        }, 2000);\n      }, e => {\n        this.router.navigateByUrl('tabs/messages');\n      });\n    } else\n      this.router.navigateByUrl('tabs/messages');\n  }\n\n  ionViewWillLeave() {\n    // this.GlobalFields.msgsSelected = undefined;\n    clearInterval(this.refresher);\n  }\n\n  getKeysOfObj(obj) {\n    const res = Object.keys(obj);\n    if (!res)\n      return [];\n    return res;\n  }\n\n  resize() {\n    /*const input = document.getElementById('myInput');\n    const container = document.getElementById('msgContainer');\n    if (input && container) {\n        let newHeight = input.scrollHeight > (window.innerHeight / 2) ? Math.round(window.innerHeight / 2) : input.scrollHeight;\n        if (!this.msgToSend || this.msgToSend == \"\")\n            newHeight = 35;\n        //input.style.height = (newHeight) + 'px';\n        container.style.marginBottom = (newHeight + 50) + 'px';\n        container.scrollTop = container.scrollHeight;\n    }\n    this.content.scrollToBottom();\n   */\n  }\n\n  getGoodStringDate(timestamp: number) {\n    return new Date(timestamp).toLocaleString();\n  }\n\n  sendMsg() {\n\n\n    const msg = this.msgToSend;\n    this.msgToSend = undefined;\n\n    this.loadingMsg = true;\n    //this.content.scrollToBottom();\n    this.content.scrollToTop();\n    setTimeout(() => {\n      this.resize();\n      //this.content.scrollToBottom();\n      this.content.scrollToTop();\n    }, 100);\n\n    if (msg) {\n      this.service.sendMsg(msg, GlobalFields.senderMsgSelected.id).subscribe(() => {\n        this.loadingMsg = false;\n        this.refreshChat(true);\n      }), err => {\n        console.log(err);\n        this.msgToSend = msg;\n        this.loadingMsg = false;\n      };\n    }\n\n  }\n\n\n  refreshChat(scroll?: boolean) {\n    console.log('RefreshChat');\n    if (GlobalFields.senderMsgSelected)\n      this.service.getMsgsOfAChat(GlobalFields.senderMsgSelected.id).subscribe((data: any) => {\n        this.GlobalFields.msgsSelected = data;\n        if (scroll) {\n          setTimeout(() => {\n            this.resize();\n            // this.content.scrollToBottom();\n          }, 500);\n\n        }\n      });\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport {NgModule} from \"@angular/core\";\nimport {TranslateModule} from \"@ngx-translate/core\";\nimport {SharedModule} from '../shared.module';\nimport {MessagesPage} from './messagesPage';\nimport {ChatPage} from './chatPage/chatPage';\nimport {LoginComponentModule} from '../menuPage/loginComponent/loginComponent.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        SharedModule,\n        RouterModule.forChild([\n            {\n                path: '',\n                component: MessagesPage\n            },\n            {\n                path: 'chatPage',\n                component: ChatPage\n            }\n        ]),\n        TranslateModule,\n        LoginComponentModule\n    ],\n    declarations: [MessagesPage, ChatPage]\n})\nexport class MessagesPageModule {}\n","export default \".boxShadowList {\\n  box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.1);\\n}\\n\\n.rowListType {\\n  background: white;\\n  margin-bottom: 10px;\\n  border-radius: 5px;\\n  padding: 0 5px 0 5px;\\n}\\n\\n.avatarImg {\\n  width: 54px;\\n  height: 54px;\\n  min-height: 54px;\\n  min-width: 54px;\\n  border-radius: 50%;\\n}\\n\\n.newImg {\\n  border: 2px solid #f24286;\\n  padding: 2px;\\n  width: 56px !important;\\n  height: 56px !important;\\n  min-height: 56px !important;\\n  min-width: 56px !important;\\n}\\n\\n.newText {\\n  color: #242429 !important;\\n  font-weight: 600 !important;\\n}\\n\\n.chatName {\\n  color: #242429;\\n  font-weight: 600;\\n  font-size: 11pt;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  text-transform: capitalize;\\n  max-width: calc(100% - 20px);\\n}\\n\\n.chatMsg {\\n  font-size: 9pt;\\n  line-height: 17px;\\n  margin-top: 5px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  text-transform: capitalize;\\n  margin-bottom: 0;\\n  color: #7e7e89;\\n  max-width: calc(100% - 20px);\\n}\\n\\n.chatTime {\\n  position: absolute;\\n  right: 0px;\\n  text-align: right;\\n  top: 0;\\n  height: 100%;\\n  padding: 9px 0px 15px 80px;\\n  font-size: 9px;\\n  color: #7e7e89;\\n  display: grid;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lbW1hbnVlbGtldGNoYWJlcGEvRGVza3RvcC9jdXN0b21saXN0aW5nYXBwX3YxXzZfMi9hcHAvc3JjL2FwcC9tZXNzYWdlc1BhZ2UvbWVzc2FnZXNQYWdlLnNjc3MiLCJzcmMvYXBwL21lc3NhZ2VzUGFnZS9tZXNzYWdlc1BhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUVFLDBDQUFBO0FDQUY7O0FESUE7RUFDRSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxvQkFBQTtBQ0RGOztBRElBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtBQ0RGOztBRElBO0VBQ0UseUJBQUE7RUFDQSxZQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtFQUNBLDJCQUFBO0VBQ0EsMEJBQUE7QUNERjs7QURJQTtFQUNFLHlCQUFBO0VBQ0EsMkJBQUE7QUNERjs7QURJQTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsdUJBQUE7RUFDQSwwQkFBQTtFQUNBLDRCQUFBO0FDREY7O0FESUE7RUFDRSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0VBQ0EsMEJBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7RUFDQSw0QkFBQTtBQ0RGOztBRElBO0VBQ0Usa0JBQUE7RUFDQSxVQUFBO0VBQ0EsaUJBQUE7RUFDQSxNQUFBO0VBQ0EsWUFBQTtFQUNBLDBCQUFBO0VBQ0EsY0FBQTtFQUNBLGNBQUE7RUFDQSxhQUFBO0FDREYiLCJmaWxlIjoic3JjL2FwcC9tZXNzYWdlc1BhZ2UvbWVzc2FnZXNQYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi5ib3hTaGFkb3dMaXN0e1xuICAtd2Via2l0LWJveC1zaGFkb3c6IDAgM3B4IDZweCAwIHJnYmEoMCwwLDAsLjEpO1xuICBib3gtc2hhZG93OiAwIDNweCA2cHggMCByZ2JhKDAsMCwwLC4xKTtcbn1cblxuXG4ucm93TGlzdFR5cGV7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIHBhZGRpbmc6IDAgNXB4IDAgNXB4O1xufVxuXG4uYXZhdGFySW1ne1xuICB3aWR0aDogNTRweDtcbiAgaGVpZ2h0OiA1NHB4O1xuICBtaW4taGVpZ2h0OiA1NHB4O1xuICBtaW4td2lkdGg6IDU0cHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbn1cblxuLm5ld0ltZ3tcbiAgYm9yZGVyOiAycHggc29saWQgI2YyNDI4NjtcbiAgcGFkZGluZzogMnB4O1xuICB3aWR0aDogNTZweCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDU2cHggIWltcG9ydGFudDtcbiAgbWluLWhlaWdodDogNTZweCAhaW1wb3J0YW50O1xuICBtaW4td2lkdGg6IDU2cHggIWltcG9ydGFudDtcbn1cblxuLm5ld1RleHR7XG4gIGNvbG9yOiAjMjQyNDI5IWltcG9ydGFudDtcbiAgZm9udC13ZWlnaHQ6IDYwMCFpbXBvcnRhbnQ7XG59XG5cbi5jaGF0TmFtZXtcbiAgY29sb3I6ICMyNDI0Mjk7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGZvbnQtc2l6ZTogMTFwdDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xuICBtYXgtd2lkdGg6IGNhbGMoMTAwJSAtIDIwcHgpO1xufVxuXG4uY2hhdE1zZ3tcbiAgZm9udC1zaXplOiA5cHQ7XG4gIGxpbmUtaGVpZ2h0OiAxN3B4O1xuICBtYXJnaW4tdG9wOiA1cHg7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcbiAgbWFyZ2luLWJvdHRvbTogMDtcbiAgY29sb3I6ICM3ZTdlODk7XG4gIG1heC13aWR0aDogY2FsYygxMDAlIC0gMjBweCk7XG59XG5cbi5jaGF0VGltZXtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMHB4O1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgdG9wOiAwO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHBhZGRpbmc6IDlweCAwcHggMTVweCA4MHB4O1xuICBmb250LXNpemU6IDlweDtcbiAgY29sb3I6ICM3ZTdlODk7XG4gIGRpc3BsYXk6IGdyaWQ7XG59XG4iLCIuYm94U2hhZG93TGlzdCB7XG4gIC13ZWJraXQtYm94LXNoYWRvdzogMCAzcHggNnB4IDAgcmdiYSgwLCAwLCAwLCAwLjEpO1xuICBib3gtc2hhZG93OiAwIDNweCA2cHggMCByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG5cbi5yb3dMaXN0VHlwZSB7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIHBhZGRpbmc6IDAgNXB4IDAgNXB4O1xufVxuXG4uYXZhdGFySW1nIHtcbiAgd2lkdGg6IDU0cHg7XG4gIGhlaWdodDogNTRweDtcbiAgbWluLWhlaWdodDogNTRweDtcbiAgbWluLXdpZHRoOiA1NHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG59XG5cbi5uZXdJbWcge1xuICBib3JkZXI6IDJweCBzb2xpZCAjZjI0Mjg2O1xuICBwYWRkaW5nOiAycHg7XG4gIHdpZHRoOiA1NnB4ICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogNTZweCAhaW1wb3J0YW50O1xuICBtaW4taGVpZ2h0OiA1NnB4ICFpbXBvcnRhbnQ7XG4gIG1pbi13aWR0aDogNTZweCAhaW1wb3J0YW50O1xufVxuXG4ubmV3VGV4dCB7XG4gIGNvbG9yOiAjMjQyNDI5ICFpbXBvcnRhbnQ7XG4gIGZvbnQtd2VpZ2h0OiA2MDAgIWltcG9ydGFudDtcbn1cblxuLmNoYXROYW1lIHtcbiAgY29sb3I6ICMyNDI0Mjk7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGZvbnQtc2l6ZTogMTFwdDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xuICBtYXgtd2lkdGg6IGNhbGMoMTAwJSAtIDIwcHgpO1xufVxuXG4uY2hhdE1zZyB7XG4gIGZvbnQtc2l6ZTogOXB0O1xuICBsaW5lLWhlaWdodDogMTdweDtcbiAgbWFyZ2luLXRvcDogNXB4O1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG4gIG1hcmdpbi1ib3R0b206IDA7XG4gIGNvbG9yOiAjN2U3ZTg5O1xuICBtYXgtd2lkdGg6IGNhbGMoMTAwJSAtIDIwcHgpO1xufVxuXG4uY2hhdFRpbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwcHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICB0b3A6IDA7XG4gIGhlaWdodDogMTAwJTtcbiAgcGFkZGluZzogOXB4IDBweCAxNXB4IDgwcHg7XG4gIGZvbnQtc2l6ZTogOXB4O1xuICBjb2xvcjogIzdlN2U4OTtcbiAgZGlzcGxheTogZ3JpZDtcbn0iXX0= */\";","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {NavController, Platform, PopoverController} from '@ionic/angular';\nimport {Listing} from '../../app/entities/listing';\nimport {GlobalFields} from '../../app/GlobalFields';\nimport {StatusBar} from '@ionic-native/status-bar/ngx';\n\nimport {Service} from '../services/Service';\n\n\nimport 'hammerjs';\nimport {TranslateService} from '@ngx-translate/core';\nimport {DomSanitizer} from '@angular/platform-browser';\nimport {LocationService} from '../services/LocationService';\nimport {Chat} from '../entities/Chat';\nimport {Profile} from '../entities/profile';\nimport {User} from '../entities/user';\n\n@Component({\n  selector: 'messagesPage',\n  templateUrl: 'messagesPage.html',\n  styleUrls: ['messagesPage.scss']\n\n})\nexport class MessagesPage implements OnInit {\n  // @ViewChild('search') searchInput : any;\n\n  chats: Chat;\n\n  loadingChats = true;\n\n  GlobalFields = GlobalFields;\n\n  msgsSelected: Chat;\n\n  search = false;\n  searchString;\n  waitSearch = false;\n  resultSearchListings: User[] = [];\n\n\n  msgToOwner: { avatar?: string; id: number, name?: string };\n\n  refresher;\n\n  constructor(public service: Service, private _sanitizer: DomSanitizer, public translate: TranslateService,\n              private locationService: LocationService, private navController: NavController) {\n\n\n  }\n\n  ngOnInit() {\n    this.initMsg();\n  }\n\n\n  ionViewDidEnter() {\n    this.GlobalFields.showTabs = true;\n\n    if (this.GlobalFields.msgToOwner) {\n      this.msgToOwner = this.GlobalFields.msgToOwner;\n      if (GlobalFields.isLoggedIn)\n        this.getMessages(this.msgToOwner);\n    }\n    this.GlobalFields.msgToOwner = undefined;\n    this.GlobalFields.loading = false;\n\n    //this.GlobalFields.msgsSelected = undefined;\n    console.log('ionViewDidEnter');\n\n    if (this.GlobalFields.isLoggedIn) {\n      this.refresher = setInterval(() => {\n        this.getNewChatsInterval();\n      }, 3000);\n    }\n\n    this.service.setWhiteBlackBackgroundStatusBar();\n\n  }\n\n  ionViewWillLeave() {\n    clearInterval(this.refresher);\n  }\n\n\n  initMsg() {\n\n    if (this.GlobalFields.isLoggedIn) {\n      this.getChats();\n      //this.service.getRecentViewedListing();\n      if (this.msgToOwner)\n        this.getMessages(this.msgToOwner);\n    }\n  }\n\n  getChats() {\n    this.loadingChats = true;\n    this.service.getChats().subscribe((data: any) => {\n      this.chats = data;\n      this.loadingChats = false;\n    }, function (e) {\n      this.service.refreshCookie();\n    });\n  }\n\n  refreshChats(event) {\n    this.loadingChats = true;\n    this.service.getChats().subscribe((data: any) => {\n      this.chats = data;\n      this.loadingChats = false;\n      event.target.complete();\n    });\n  }\n\n  getNewChatsInterval() {\n    console.log('getNewChatsInterval');\n    if (this.GlobalFields.isLoggedIn) {\n      this.service.getChats().subscribe((data: any) => {\n        this.chats = data;\n      });\n    }\n  }\n\n  getMessages(user?: User) {\n    this.msgToOwner = undefined;\n    if (user && user.id) {\n      //this.GlobalFields.loadingSoft = true;\n      this.GlobalFields.senderMsgSelected = user;\n      this.GlobalFields.showTabs = false;\n      this.navController.navigateForward('tabs/messages/chatPage');\n    }\n  }\n\n  isWhiteBackgroundBoxShadow(): string {\n    if (GlobalFields.isWhiteBackground())\n      return '';\n    else\n      return ' boxShadowList';\n  }\n\n  getKeysOfObj(obj) {\n    const res = Object.keys(obj);\n    if (!res)\n      return [];\n    return res;\n  }\n\n\n  getBackground(image: string) {\n    return this._sanitizer.bypassSecurityTrustStyle(`url(${image})`);\n  }\n\n  getGoodStringDate(timestamp: number) {\n    return new Date(timestamp).toLocaleString();\n  }\n\n\n  searchByName(ev: any) {\n    this.searchString = ev.target.value;\n  }\n\n  doTheSearch(event?) {\n\n    console.log('Enter called');\n    console.log(event);\n\n    let doIt = false;\n    if (event && event.key === 'Enter')  // Do stuff}\n      doIt = true;\n    else if (!event)\n      doIt = true;\n\n    if (doIt) {\n      this.resultSearchListings = [];\n\n      setTimeout(() => {\n        this.waitSearch = false;\n        this.loadingChats = true;\n        if (!this.waitSearch && this.searchString && this.searchString != '') {\n          this.service.getMsgUsersByString(this.searchString)\n            .subscribe((data: any) => {\n              this.resultSearchListings = data;\n              this.loadingChats = false;\n            });\n          this.waitSearch = true;\n        }\n      }, 500);\n    }\n  }\n\n  /*setFocusSearchInput(){\n      setTimeout(() => {\n          this.searchInput.setFocus();\n      }, 500);\n  }*/\n}\n"],"sourceRoot":"webpack:///"}