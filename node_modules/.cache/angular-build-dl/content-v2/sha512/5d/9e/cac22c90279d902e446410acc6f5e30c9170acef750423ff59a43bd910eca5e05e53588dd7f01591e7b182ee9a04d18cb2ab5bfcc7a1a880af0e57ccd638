{"version":3,"sources":["webpack:///src/app/categoriesList/categoriesList.html","webpack:///src/app/categoriesList/categoriesList.module.ts","webpack:///src/app/categoriesList/categoriesList.scss","webpack:///src/app/categoriesList/categoriesList.ts"],"names":["CategoriesListModule","imports","forChild","path","component","declarations","CategoriesList","service","_sanitizer","translate","locationService","navController","GlobalFields","tabShown","listOfTypes","categories_by_type","regions_by_type","getCategoriesForEachType","getRegionsForEachType","site_details","categoryListTabContent","console","log","setWhiteBlackBackgroundStatusBar","selectedCat","typeId","clearFilters","category","listingCategories","find","cat","slug","filtersSearch","categories","name","selectedType","selectListingTypeDetail","getFilteredListingFirstTime","navigateForward","listingTypesDetails","forEach","type","length","cats","filter","count","push","type_id","ID","type_name","post_title","case27_listing_type_search_page","advanced","facets","some","el","show_field","getRegionsByType","subscribe","data","success","reg","regions","selectedReg","region","image","id","image_url","bypassSecurityTrustStyle","placeholderImgUrl","class_to_add","class_name","imageAttributes","element","value","selector","template"],"mappings":"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","file":"categoriesList-categoriesList-module-es5.js","sourcesContent":["export default \"\\n<ion-header translucent=\\\"true\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n    <ion-toolbar>\\n      <!-- If Side menu is used-->\\n      <ion-buttons *ngIf=\\\"GlobalFields.site_details.navigationType==2\\\" slot=\\\"start\\\" style=\\\"position: absolute;\\\">\\n        <ion-menu-button style=\\\"color: #3b3c3c\\\"></ion-menu-button>\\n      </ion-buttons>\\n      <ion-segment *ngIf=\\\"!GlobalFields.site_details.categoryListTabContent || GlobalFields.site_details.categoryListTabContent == 3\\\" [(ngModel)]=\\\"tabShown\\\" style=\\\"width: 50%; min-width: fit-content; margin: auto;\\\">\\n          <ion-segment-button value=\\\"1\\\">\\n              <ion-label>{{'CATEGORIES' | translate}}</ion-label>\\n          </ion-segment-button>\\n          <ion-segment-button value=\\\"2\\\">\\n              <ion-label>{{'REGIONS' | translate}}</ion-label>\\n          </ion-segment-button>\\n      </ion-segment>\\n      <ion-title *ngIf=\\\"GlobalFields.site_details.categoryListTabContent ==1 || GlobalFields.site_details.categoryListTabContent == 2\\\">\\n        <span *ngIf=\\\"GlobalFields.site_details.categoryListTabContent == 1\\\">{{'CATEGORIES' | translate}}</span>\\n        <span *ngIf=\\\"GlobalFields.site_details.categoryListTabContent == 2\\\">{{'REGIONS' | translate}}</span>\\n      </ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n\\n<!-- Categories -->\\n<ion-content class=\\\"cards-bg social-cards\\\" *ngIf=\\\"tabShown==1 && GlobalFields.listingCategories\\\" style=\\\"margin-top: 20px;\\\"\\n             [ngStyle]=\\\"GlobalFields.getBodyColorBackgroundJson()\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n\\n\\n    <div *ngFor=\\\"let type of categories_by_type\\\" style=\\\"width: 100%; padding: 15px;\\\">\\n        <h3 *ngIf=\\\"type.categories && type.categories.length>0\\\">{{type.type_name}}</h3>\\n      <span *ngFor=\\\"let cat of type.categories\\\">\\n        <ion-row *ngIf=\\\"cat.count\\\"  style=\\\"width: 100%; height: 130px;\\\"\\n                 (click)=\\\"getListingsByCategory(cat, type.type_id)\\\">\\n            <ion-col style=\\\"text-align: center\\\">\\n                <!--<div class=\\\"backImg\\\" [style.background]=\\\"getBackground(cat)\\\">-->\\n                <div class=\\\"backImg\\\">\\n                    <img-loader [src]=\\\"getBackgroundCached(cat)\\\" useImg\\n                                [imgAttributes]=\\\"getImgCachedClass('shadedImgCached categoryImgCached')\\\"></img-loader>\\n\\n                    <div class=\\\"text\\\">\\n                        <span class=\\\"categoryBox\\\">{{cat.name}}</span>\\n                        <br>\\n                        <span style=\\\"position: relative; top: 24%;\\\">{{cat.count}} {{'LISTINGS' | translate}}</span>\\n                    </div>\\n                </div>\\n            </ion-col>\\n        </ion-row>\\n      </span>\\n    </div>\\n\\n</ion-content>\\n\\n<!-- Regions -->\\n<ion-content class=\\\"cards-bg social-cards\\\" *ngIf=\\\"tabShown==2 && GlobalFields.regions\\\" style=\\\"margin-top: 20px;\\\"\\n             [ngStyle]=\\\"GlobalFields.getBodyColorBackgroundJson()\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n\\n\\n    <div style=\\\"width: 100%; padding: 15px;\\\" *ngIf=\\\"regions_by_type && regions_by_type.length>0\\\">\\n      <div *ngFor=\\\"let type of regions_by_type\\\">\\n        <h3 *ngIf=\\\"type.regions && type.regions.length>0\\\">{{type.type_name}}</h3>\\n        <span *ngFor=\\\"let reg of type.regions\\\">\\n          <ion-row *ngIf=\\\"reg.count\\\" style=\\\"width: 100%; height: 130px;\\\"\\n                   (click)=\\\"getListingsByRegion(reg, type.type_id)\\\">\\n              <ion-col style=\\\"text-align: center\\\">\\n                  <!--<div class=\\\"backImg\\\" [style.background]=\\\"getBackground(cat)\\\">-->\\n                  <div class=\\\"backImg\\\">\\n                      <img-loader [src]=\\\"getBackgroundCachedRegions(reg)\\\" useImg\\n                                  [imgAttributes]=\\\"getImgCachedClass('shadedImgCached categoryImgCached')\\\"></img-loader>\\n                      <div class=\\\"text\\\">\\n                          <span class=\\\"categoryBox\\\">{{reg.name}}</span>\\n                          <br>\\n                          <span style=\\\"position: relative; top: 24%;\\\">{{reg.count}} {{'LISTINGS' | translate}}</span>\\n                      </div>\\n                  </div>\\n              </ion-col>\\n          </ion-row>\\n        </span>\\n      </div>\\n\\n    </div>\\n\\n</ion-content>\\n\";","import { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport {NgModule} from \"@angular/core\";\nimport {TranslateModule} from \"@ngx-translate/core\";\nimport {SharedModule} from '../shared.module';\nimport {CategoriesList} from './categoriesList';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        SharedModule,\n        RouterModule.forChild([\n            {\n                path: '',\n                component: CategoriesList\n            }\n        ]),\n        TranslateModule\n    ],\n    declarations: [CategoriesList]\n})\nexport class CategoriesListModule {}\n","export default \".backImg {\\n  height: 110px;\\n  width: 100%;\\n  background-position: center !important;\\n  background-size: cover !important;\\n  border-radius: 5px;\\n  -webkit-box-shadow: 0 4px 8px rgba(0, 0, 0, 0.18);\\n  margin-bottom: 5px;\\n  margin-top: 5px;\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.18);\\n  display: inline-flex;\\n  background-color: black;\\n  position: relative;\\n  overflow: hidden;\\n  overflow-y: hidden;\\n}\\n\\n.text {\\n  text-align: center;\\n  width: 100%;\\n  color: white;\\n  position: absolute;\\n  left: 50%;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%) translateX(-50%);\\n}\\n\\n.categoryBox {\\n  font-weight: 900;\\n  font-size: 18pt;\\n  position: relative;\\n  top: 22%;\\n  line-height: 1;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lbW1hbnVlbGtldGNoYWJlcGEvRGVza3RvcC9jdXN0b21saXN0aW5nYXBwX3YxXzZfMi9hcHAvc3JjL2FwcC9jYXRlZ29yaWVzTGlzdC9jYXRlZ29yaWVzTGlzdC5zY3NzIiwic3JjL2FwcC9jYXRlZ29yaWVzTGlzdC9jYXRlZ29yaWVzTGlzdC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLFdBQUE7RUFDQSxzQ0FBQTtFQUNBLGlDQUFBO0VBQ0Esa0JBQUE7RUFDQSxpREFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLHlDQUFBO0VBQ0Esb0JBQUE7RUFDQSx1QkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtBQ0NGOztBREVBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFFBQUE7RUFDQSxvREFBQTtBQ0NGOztBREVBO0VBQ0UsZ0JBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsY0FBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvY2F0ZWdvcmllc0xpc3QvY2F0ZWdvcmllc0xpc3Quc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5iYWNrSW1ne1xuICBoZWlnaHQ6IDExMHB4O1xuICB3aWR0aDogMTAwJTtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyICFpbXBvcnRhbnQ7XG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXIgIWltcG9ydGFudDtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAtd2Via2l0LWJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMTgpO1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gIG1hcmdpbi10b3A6IDVweDtcbiAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xOCk7XG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBvdmVyZmxvdy15OiBoaWRkZW47XG59XG5cbi50ZXh0e1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHdpZHRoOiAxMDAlO1xuICBjb2xvcjogd2hpdGU7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogNTAlO1xuICB0b3A6IDUwJTtcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSkgdHJhbnNsYXRlWCgtNTAlKTtcbn1cblxuLmNhdGVnb3J5Qm94e1xuICBmb250LXdlaWdodDogOTAwO1xuICBmb250LXNpemU6IDE4cHQ7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiAyMiU7XG4gIGxpbmUtaGVpZ2h0OiAxO1xufVxuIiwiLmJhY2tJbWcge1xuICBoZWlnaHQ6IDExMHB4O1xuICB3aWR0aDogMTAwJTtcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyICFpbXBvcnRhbnQ7XG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXIgIWltcG9ydGFudDtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAtd2Via2l0LWJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMTgpO1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gIG1hcmdpbi10b3A6IDVweDtcbiAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xOCk7XG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBvdmVyZmxvdy15OiBoaWRkZW47XG59XG5cbi50ZXh0IHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB3aWR0aDogMTAwJTtcbiAgY29sb3I6IHdoaXRlO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDUwJTtcbiAgdG9wOiA1MCU7XG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpIHRyYW5zbGF0ZVgoLTUwJSk7XG59XG5cbi5jYXRlZ29yeUJveCB7XG4gIGZvbnQtd2VpZ2h0OiA5MDA7XG4gIGZvbnQtc2l6ZTogMThwdDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0b3A6IDIyJTtcbiAgbGluZS1oZWlnaHQ6IDE7XG59Il19 */\";","import {Component, OnInit} from '@angular/core';\nimport {NavController, Platform, PopoverController} from '@ionic/angular';\nimport {Listing} from '../../app/entities/listing';\nimport {GlobalFields} from '../../app/GlobalFields';\nimport {StatusBar} from '@ionic-native/status-bar/ngx';\n\nimport {ModalController} from '@ionic/angular';\nimport {CallNumber} from '@ionic-native/call-number/ngx';\nimport {LaunchNavigator} from '@ionic-native/launch-navigator/ngx';\nimport {Service} from '../services/Service';\n\nimport {SocialSharing} from '@ionic-native/social-sharing/ngx';\n\n\nimport 'hammerjs';\nimport {TranslateService} from '@ngx-translate/core';\nimport {DomSanitizer} from '@angular/platform-browser';\nimport {ListingCategory} from '../entities/listingCategory';\nimport {LocationService} from '../services/LocationService';\nimport {ImageAttribute} from 'ionic-image-loader';\nimport {ListingTypeDetail} from '../entities/listingTypeDetail';\n\n@Component({\n  selector: 'categoriesList',\n  templateUrl: 'categoriesList.html',\n  styleUrls: ['categoriesList.scss']\n\n})\nexport class CategoriesList implements OnInit{\n\n  GlobalFields = GlobalFields;\n\n  tabShown = 1;\n\n  listOfTypes: ListingTypeDetail[] = [];\n\n\n  categories_by_type: { type_id: number, type_name: string, categories: ListingCategory[]}[] = [];\n  regions_by_type: { type_id: number, type_name: string, regions: ListingCategory[]}[] = [];\n\n  constructor(public service: Service, private _sanitizer: DomSanitizer, public translate: TranslateService,\n              private locationService: LocationService, private navController: NavController) {\n  }\n\n  ngOnInit(){\n    this.getCategoriesForEachType();\n    this.getRegionsForEachType();\n  }\n\n  ionViewDidEnter() {\n    if(GlobalFields.site_details.categoryListTabContent == 1)\n      this.tabShown = 1;\n    else if(GlobalFields.site_details.categoryListTabContent == 2)\n      this.tabShown = 2;\n    else\n      this.tabShown = 1;\n    console.log('ionViewDidEnter');\n    this.service.setWhiteBlackBackgroundStatusBar();\n  }\n\n\n  getListingsByCategory(selectedCat: ListingCategory, typeId: any) {\n    GlobalFields.clearFilters();\n\n    const category = GlobalFields.listingCategories.find(cat => cat.slug == selectedCat.slug);\n\n    if (category) {\n      GlobalFields.filtersSearch.categories = [category.name];\n      GlobalFields.filtersSearch.selectedType = typeId;\n      // select Listing Type\n      this.GlobalFields.selectListingTypeDetail();\n\n      GlobalFields.getFilteredListingFirstTime(this.service, this.locationService, true);\n      this.navController.navigateForward('tabs/search');\n    }\n  }\n\n  getCategoriesForEachType() {\n    GlobalFields.listingTypesDetails.forEach(type => {\n      //check if regions in in the search filter\n      if(type.categories && type.categories.length>0) {\n        const cats = type.categories.filter(cat => cat.count)\n        this.categories_by_type.push({type_id: type.ID, type_name: type.post_title, categories: cats});\n      }\n    })\n  }\n\n  getRegionsForEachType() {\n    GlobalFields.listingTypesDetails.forEach(type => {\n      //check if regions in in the search filter\n      if (type.case27_listing_type_search_page && type.case27_listing_type_search_page.advanced\n        && type.case27_listing_type_search_page.advanced.facets && type.case27_listing_type_search_page.advanced.facets &&\n        type.case27_listing_type_search_page.advanced.facets.some(el => el.show_field == 'region')) {\n        this.service.getRegionsByType(type.ID).subscribe((data: { success?: boolean, data?: ListingCategory[] }) => {\n          if (data.success)\n            data.data = data.data.filter(reg=> reg.count)\n            this.regions_by_type.push({type_id: type.ID, type_name: type.post_title, regions: data.data});\n        });\n      }\n    });\n  }\n\n  getListingsByRegion(selectedReg: ListingCategory, typeId: any) {\n    GlobalFields.clearFilters();\n    const region = GlobalFields.regions.find(cat => cat.slug == selectedReg.slug);\n    if (region) {\n      console.log(region)\n      GlobalFields.filtersSearch.region = region.name;\n      GlobalFields.filtersSearch.selectedType = typeId;\n      // select Listing Type\n      this.GlobalFields.selectListingTypeDetail();\n\n      GlobalFields.getFilteredListingFirstTime(this.service, this.locationService, true);\n      this.navController.navigateForward('tabs/search');\n    }\n  }\n\n\n  getBackground(category: any) {\n    let image = '';\n    //get the category from the categories call\n    GlobalFields.listingCategories.forEach(cat => {\n      if (cat.id == category.id)\n        image = cat.image_url;\n    });\n    return this._sanitizer.bypassSecurityTrustStyle(`linear-gradient(to top, rgba(23, 23, 23, 0.38), rgba(23, 23, 23, 0.38)), url(${image})`);\n  }\n\n  getBackgroundCached(category: any) {\n    let image = '';\n    //get the category from the categories call\n    GlobalFields.listingCategories.forEach(cat => {\n      if (cat.id == category.id)\n        image = cat.image_url;\n    });\n    if (!image)\n      image = GlobalFields.site_details.placeholderImgUrl;\n    return image;\n  }\n\n  getBackgroundCachedRegions(reg: ListingCategory) {\n    if (reg.image_url)\n      return reg.image_url;\n    return GlobalFields.site_details.placeholderImgUrl;\n  }\n\n  getImgCachedClass(class_to_add: string): ImageAttribute[] {\n    let class_name = 'imgCachedAsBackground ' + class_to_add;\n\n    const imageAttributes: ImageAttribute[] = [];\n    imageAttributes.push({\n      element: 'class',\n      value: class_name\n    });\n\n\n    return imageAttributes;\n  }\n\n}\n"]}