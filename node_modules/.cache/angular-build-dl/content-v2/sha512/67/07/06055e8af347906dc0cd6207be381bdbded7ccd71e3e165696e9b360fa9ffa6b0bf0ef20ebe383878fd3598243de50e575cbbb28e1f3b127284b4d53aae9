{"version":3,"sources":["webpack:///src/app/messagesPage/chatPage/chatPage.html","webpack:///src/app/messagesPage/messagesPage.html","webpack:///src/app/messagesPage/chatPage/chatPage.scss","webpack:///src/app/messagesPage/chatPage/chatPage.ts","webpack:///src/app/messagesPage/messagesPage.module.ts","webpack:///src/app/messagesPage/messagesPage.scss","webpack:///src/app/messagesPage/messagesPage.ts"],"names":["ChatPage","service","_sanitizer","translate","locationService","navController","router","GlobalFields","msgToSend","loading","loadingMsg","senderMsgSelected","id","getMsgsOfAChat","subscribe","data","msgsSelected","resize","console","log","markAsSeenChat","refresher","setInterval","refreshChat","e","navigateByUrl","clearInterval","obj","res","Object","keys","timestamp","Date","toLocaleString","msg","undefined","content","scrollToTop","setTimeout","sendMsg","err","scroll","selector","template","MessagesPageModule","imports","forChild","path","component","declarations","MessagesPage","loadingChats","search","waitSearch","resultSearchListings","initMsg","showTabs","msgToOwner","isLoggedIn","getMessages","getNewChatsInterval","setWhiteBlackBackgroundStatusBar","getChats","chats","refreshCookie","event","target","complete","user","navigateForward","isWhiteBackground","image","bypassSecurityTrustStyle","ev","searchString","value","doIt","key","getMsgUsersByString"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiBf,QAAaA,QAAQ;AAenB,wBAAmBC,OAAnB,EAA6CC,UAA7C,EAA8EC,SAA9E,EACoBC,eADpB,EAC8DC,aAD9D,EACoGC,MADpG,EACoH;AAAA;;AADjG,aAAAL,OAAA,GAAAA,OAAA;AAA0B,aAAAC,UAAA,GAAAA,UAAA;AAAiC,aAAAC,SAAA,GAAAA,SAAA;AAC1D,aAAAC,eAAA,GAAAA,eAAA;AAA0C,aAAAC,aAAA,GAAAA,aAAA;AAAsC,aAAAC,MAAA,GAAAA,MAAA;AAZpG,aAAAC,YAAA,GAAe,8DAAf;AAIA,aAAAC,SAAA,GAAY,EAAZ;AAEA,aAAAC,OAAA,GAAU,IAAV;AACA,aAAAC,UAAA,GAAa,KAAb;AAOC;;AAlBkB;AAAA;AAAA,eAqBnB,2BAAkB;AAAA;;AAEhB,cAAI,KAAKH,YAAL,CAAkBI,iBAAlB,IAAuC,KAAKJ,YAAL,CAAkBI,iBAAlB,CAAoCC,EAA/E,EAAmF;AACjF,iBAAKX,OAAL,CAAaY,cAAb,CAA4B,KAAKN,YAAL,CAAkBI,iBAAlB,CAAoCC,EAAhE,EAAoEE,SAApE,CAA8E,UAACC,IAAD,EAAe;AAC3F,mBAAI,CAACR,YAAL,CAAkBS,YAAlB,GAAiCD,IAAjC;AACA,mBAAI,CAACN,OAAL,GAAe,KAAf;;AACA,mBAAI,CAACQ,MAAL,GAH2F,CAI3F;;;AAEA,kBAAI,+DAAaN,iBAAjB,EACEO,OAAO,CAACC,GAAR,CAAY,cAAZ;;AACF,mBAAI,CAAClB,OAAL,CAAamB,cAAb,CAA4B,+DAAaT,iBAAb,CAA+BC,EAA3D,EAA+DE,SAA/D,CAAyE,UAACC,IAAD,EAAe,CACvF,CADD;;AAGA,mBAAI,CAACM,SAAL,GAAiBC,WAAW,CAAC,YAAM;AACjC,qBAAI,CAACC,WAAL;AACD,eAF2B,EAEzB,IAFyB,CAA5B;AAGD,aAdD,EAcG,UAAAC,CAAC,EAAI;AACN,mBAAI,CAAClB,MAAL,CAAYmB,aAAZ,CAA0B,eAA1B;AACD,aAhBD;AAiBD,WAlBD,MAmBE,KAAKnB,MAAL,CAAYmB,aAAZ,CAA0B,eAA1B;AACH;AA3CkB;AAAA;AAAA,eA6CnB,4BAAmB;AACjB;AACAC,uBAAa,CAAC,KAAKL,SAAN,CAAb;AACD;AAhDkB;AAAA;AAAA,eAkDnB,sBAAaM,GAAb,EAAkB;AAChB,cAAMC,GAAG,GAAGC,MAAM,CAACC,IAAP,CAAYH,GAAZ,CAAZ;AACA,cAAI,CAACC,GAAL,EACE,OAAO,EAAP;AACF,iBAAOA,GAAP;AACD;AAvDkB;AAAA;AAAA,eAyDnB,kBAAS;AACP;;;;;;;;;;;;AAYD;AAtEkB;AAAA;AAAA,eAwEnB,2BAAkBG,SAAlB,EAAqC;AACnC,iBAAO,IAAIC,IAAJ,CAASD,SAAT,EAAoBE,cAApB,EAAP;AACD;AA1EkB;AAAA;AAAA,eA4EnB,mBAAU;AAAA;;AAGR,cAAMC,GAAG,GAAG,KAAK1B,SAAjB;AACA,eAAKA,SAAL,GAAiB2B,SAAjB;AAEA,eAAKzB,UAAL,GAAkB,IAAlB,CANQ,CAOR;;AACA,eAAK0B,OAAL,CAAaC,WAAb;AACAC,oBAAU,CAAC,YAAM;AACf,kBAAI,CAACrB,MAAL,GADe,CAEf;;;AACA,kBAAI,CAACmB,OAAL,CAAaC,WAAb;AACD,WAJS,EAIP,GAJO,CAAV;;AAMA,cAAIH,GAAJ,EAAS;AACP,iBAAKjC,OAAL,CAAasC,OAAb,CAAqBL,GAArB,EAA0B,+DAAavB,iBAAb,CAA+BC,EAAzD,EAA6DE,SAA7D,CAAuE,YAAM;AAC3E,oBAAI,CAACJ,UAAL,GAAkB,KAAlB;;AACA,oBAAI,CAACa,WAAL,CAAiB,IAAjB;AACD,aAHD,GAGI,UAAAiB,GAAG,EAAI;AACTtB,qBAAO,CAACC,GAAR,CAAYqB,GAAZ;AACA,oBAAI,CAAChC,SAAL,GAAiB0B,GAAjB;AACA,oBAAI,CAACxB,UAAL,GAAkB,KAAlB;AACD,aAPD;AAQD;AAEF;AAtGkB;AAAA;AAAA,eAyGnB,qBAAY+B,MAAZ,EAA8B;AAAA;;AAC5BvB,iBAAO,CAACC,GAAR,CAAY,aAAZ;AACA,cAAI,+DAAaR,iBAAjB,EACE,KAAKV,OAAL,CAAaY,cAAb,CAA4B,+DAAaF,iBAAb,CAA+BC,EAA3D,EAA+DE,SAA/D,CAAyE,UAACC,IAAD,EAAe;AACtF,kBAAI,CAACR,YAAL,CAAkBS,YAAlB,GAAiCD,IAAjC;;AACA,gBAAI0B,MAAJ,EAAY;AACVH,wBAAU,CAAC,YAAM;AACf,sBAAI,CAACrB,MAAL,GADe,CAEf;;AACD,eAHS,EAGP,GAHO,CAAV;AAKD;AACF,WATD;AAUH;AAtHkB;;AAAA;AAAA,OAArB;;;;cAe8B;;cAA6B;;cAAgC;;cACpD;;cAAwC;;cAA+B;;;;AAfhF,8DAA3B,gEAAU,eAAV,CAA2B,E,wEAAS,yD,CAAT,G,kBAAA,E,SAAA,E,MAAA;AADjBjB,YAAQ,6DANpB,gEAAU;AACT0C,cAAQ,EAAE,UADD;AAETC,cAAQ,EAAR;AAAA;AAAA,wGAFS;;;;AAAA,KAAV,CAMoB,E,+EAeS,yD,EAA6B,sE,EAAgC,oE,EACpD,yE,EAAwC,4D,EAA+B,sD,EAhBzF,GAAR3C,QAAQ,CAAR;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgBb,QAAa4C,kBAAkB;AAAA;AAAA,KAA/B;;AAAaA,sBAAkB,6DArB9B,+DAAS;AACNC,aAAO,EAAE,CACL,4DADK,EAEL,0DAFK,EAGL,0DAHK,EAIL,2DAJK,EAKL,6DAAaC,QAAb,CAAsB,CAClB;AACIC,YAAI,EAAE,EADV;AAEIC,iBAAS,EAAE;AAFf,OADkB,EAKlB;AACID,YAAI,EAAE,UADV;AAEIC,iBAAS,EAAE;AAFf,OALkB,CAAtB,CALK,EAeL,mEAfK,EAgBL,oGAhBK,CADH;AAmBNC,kBAAY,EAAE,CAAC,0DAAD,EAAe,2DAAf;AAnBR,KAAT,CAqB8B,GAAlBL,kBAAkB,CAAlB;;;;;;;;;;;;;;;;ACjCb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuBf,QAAaM,YAAY;AAqBvB,4BAAmBjD,OAAnB,EAA6CC,UAA7C,EAA8EC,SAA9E,EACoBC,eADpB,EAC8DC,aAD9D,EAC4F;AAAA;;AADzE,aAAAJ,OAAA,GAAAA,OAAA;AAA0B,aAAAC,UAAA,GAAAA,UAAA;AAAiC,aAAAC,SAAA,GAAAA,SAAA;AAC1D,aAAAC,eAAA,GAAAA,eAAA;AAA0C,aAAAC,aAAA,GAAAA,aAAA;AAjB9D,aAAA8C,YAAA,GAAe,IAAf;AAEA,aAAA5C,YAAA,GAAe,8DAAf;AAIA,aAAA6C,MAAA,GAAS,KAAT;AAEA,aAAAC,UAAA,GAAa,KAAb;AACA,aAAAC,oBAAA,GAA+B,EAA/B;AAWC;;AAzBsB;AAAA;AAAA,eA2BvB,oBAAW;AACT,eAAKC,OAAL;AACD;AA7BsB;AAAA;AAAA,eAgCvB,2BAAkB;AAAA;;AAChB,eAAKhD,YAAL,CAAkBiD,QAAlB,GAA6B,IAA7B;;AAEA,cAAI,KAAKjD,YAAL,CAAkBkD,UAAtB,EAAkC;AAChC,iBAAKA,UAAL,GAAkB,KAAKlD,YAAL,CAAkBkD,UAApC;AACA,gBAAI,+DAAaC,UAAjB,EACE,KAAKC,WAAL,CAAiB,KAAKF,UAAtB;AACH;;AACD,eAAKlD,YAAL,CAAkBkD,UAAlB,GAA+BtB,SAA/B;AACA,eAAK5B,YAAL,CAAkBE,OAAlB,GAA4B,KAA5B,CATgB,CAWhB;;AACAS,iBAAO,CAACC,GAAR,CAAY,iBAAZ;;AAEA,cAAI,KAAKZ,YAAL,CAAkBmD,UAAtB,EAAkC;AAChC,iBAAKrC,SAAL,GAAiBC,WAAW,CAAC,YAAM;AACjC,oBAAI,CAACsC,mBAAL;AACD,aAF2B,EAEzB,IAFyB,CAA5B;AAGD;;AAED,eAAK3D,OAAL,CAAa4D,gCAAb;AAED;AAtDsB;AAAA;AAAA,eAwDvB,4BAAmB;AACjBnC,uBAAa,CAAC,KAAKL,SAAN,CAAb;AACD;AA1DsB;AAAA;AAAA,eA6DvB,mBAAU;AAER,cAAI,KAAKd,YAAL,CAAkBmD,UAAtB,EAAkC;AAChC,iBAAKI,QAAL,GADgC,CAEhC;;AACA,gBAAI,KAAKL,UAAT,EACE,KAAKE,WAAL,CAAiB,KAAKF,UAAtB;AACH;AACF;AArEsB;AAAA;AAAA,eAuEvB,oBAAW;AAAA;;AACT,eAAKN,YAAL,GAAoB,IAApB;AACA,eAAKlD,OAAL,CAAa6D,QAAb,GAAwBhD,SAAxB,CAAkC,UAACC,IAAD,EAAe;AAC/C,kBAAI,CAACgD,KAAL,GAAahD,IAAb;AACA,kBAAI,CAACoC,YAAL,GAAoB,KAApB;AACD,WAHD,EAGG,UAAU3B,CAAV,EAAa;AACd,iBAAKvB,OAAL,CAAa+D,aAAb;AACD,WALD;AAMD;AA/EsB;AAAA;AAAA,eAiFvB,sBAAaC,KAAb,EAAoB;AAAA;;AAClB,eAAKd,YAAL,GAAoB,IAApB;AACA,eAAKlD,OAAL,CAAa6D,QAAb,GAAwBhD,SAAxB,CAAkC,UAACC,IAAD,EAAe;AAC/C,kBAAI,CAACgD,KAAL,GAAahD,IAAb;AACA,kBAAI,CAACoC,YAAL,GAAoB,KAApB;AACAc,iBAAK,CAACC,MAAN,CAAaC,QAAb;AACD,WAJD;AAKD;AAxFsB;AAAA;AAAA,eA0FvB,+BAAsB;AAAA;;AACpBjD,iBAAO,CAACC,GAAR,CAAY,qBAAZ;;AACA,cAAI,KAAKZ,YAAL,CAAkBmD,UAAtB,EAAkC;AAChC,iBAAKzD,OAAL,CAAa6D,QAAb,GAAwBhD,SAAxB,CAAkC,UAACC,IAAD,EAAe;AAC/C,oBAAI,CAACgD,KAAL,GAAahD,IAAb;AACD,aAFD;AAGD;AACF;AAjGsB;AAAA;AAAA,eAmGvB,qBAAYqD,IAAZ,EAAyB;AACvB,eAAKX,UAAL,GAAkBtB,SAAlB;;AACA,cAAIiC,IAAI,IAAIA,IAAI,CAACxD,EAAjB,EAAqB;AACnB;AACA,iBAAKL,YAAL,CAAkBI,iBAAlB,GAAsCyD,IAAtC;AACA,iBAAK7D,YAAL,CAAkBiD,QAAlB,GAA6B,KAA7B;AACA,iBAAKnD,aAAL,CAAmBgE,eAAnB,CAAmC,wBAAnC;AACD;AACF;AA3GsB;AAAA;AAAA,eA6GvB,sCAA0B;AACxB,cAAI,+DAAaC,iBAAb,EAAJ,EACE,OAAO,EAAP,CADF,KAGE,OAAO,gBAAP;AACH;AAlHsB;AAAA;AAAA,eAoHvB,sBAAa3C,GAAb,EAAkB;AAChB,cAAMC,GAAG,GAAGC,MAAM,CAACC,IAAP,CAAYH,GAAZ,CAAZ;AACA,cAAI,CAACC,GAAL,EACE,OAAO,EAAP;AACF,iBAAOA,GAAP;AACD;AAzHsB;AAAA;AAAA,eA4HvB,uBAAc2C,KAAd,EAA6B;AAC3B,iBAAO,KAAKrE,UAAL,CAAgBsE,wBAAhB,eAAgDD,KAAhD,OAAP;AACD;AA9HsB;AAAA;AAAA,eAgIvB,2BAAkBxC,SAAlB,EAAqC;AACnC,iBAAO,IAAIC,IAAJ,CAASD,SAAT,EAAoBE,cAApB,EAAP;AACD;AAlIsB;AAAA;AAAA,eAqIvB,sBAAawC,EAAb,EAAsB;AACpB,eAAKC,YAAL,GAAoBD,EAAE,CAACP,MAAH,CAAUS,KAA9B;AACD;AAvIsB;AAAA;AAAA,eAyIvB,qBAAYV,KAAZ,EAAoB;AAAA;;AAElB/C,iBAAO,CAACC,GAAR,CAAY,cAAZ;AACAD,iBAAO,CAACC,GAAR,CAAY8C,KAAZ;AAEA,cAAIW,IAAI,GAAG,KAAX;AACA,cAAIX,KAAK,IAAIA,KAAK,CAACY,GAAN,KAAc,OAA3B,EAAqC;AACnCD,gBAAI,GAAG,IAAP,CADF,KAEK,IAAI,CAACX,KAAL,EACHW,IAAI,GAAG,IAAP;;AAEF,cAAIA,IAAJ,EAAU;AACR,iBAAKtB,oBAAL,GAA4B,EAA5B;AAEAhB,sBAAU,CAAC,YAAM;AACf,oBAAI,CAACe,UAAL,GAAkB,KAAlB;AACA,oBAAI,CAACF,YAAL,GAAoB,IAApB;;AACA,kBAAI,CAAC,MAAI,CAACE,UAAN,IAAoB,MAAI,CAACqB,YAAzB,IAAyC,MAAI,CAACA,YAAL,IAAqB,EAAlE,EAAsE;AACpE,sBAAI,CAACzE,OAAL,CAAa6E,mBAAb,CAAiC,MAAI,CAACJ,YAAtC,EACG5D,SADH,CACa,UAACC,IAAD,EAAe;AACxB,wBAAI,CAACuC,oBAAL,GAA4BvC,IAA5B;AACA,wBAAI,CAACoC,YAAL,GAAoB,KAApB;AACD,iBAJH;;AAKA,sBAAI,CAACE,UAAL,GAAkB,IAAlB;AACD;AACF,aAXS,EAWP,GAXO,CAAV;AAYD;AACF;AApKsB;;AAAA;AAAA,OAAzB;;;;cAqB8B;;cAA6B;;cAAgC;;cACpD;;cAAwC;;;;AAtBlEH,gBAAY,6DANxB,gEAAU;AACTR,cAAQ,EAAE,cADD;AAETC,cAAQ,EAAR;AAAA;AAAA,mGAFS;;;;AAAA,KAAV,CAMwB,E,+EAqBK,yD,EAA6B,sE,EAAgC,oE,EACpD,yE,EAAwC,4D,EAtBtD,GAAZO,YAAY,CAAZ","file":"messagesPage-messagesPage-module-es5.js","sourcesContent":["export default \"\\n<ion-header translucent=\\\"true\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n    <ion-toolbar dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button defaultHref=\\\"tabs/messages\\\" (click)=\\\"GlobalFields.senderMsgSelected = undefined\\\"></ion-back-button>\\n        </ion-buttons>\\n        <ion-title *ngIf=\\\"GlobalFields.senderMsgSelected\\\" style=\\\"font-size: 9pt;\\\"><img class=\\\"avatarImg\\\"  src=\\\"{{GlobalFields.senderMsgSelected.avatar}}\\\"> {{GlobalFields.senderMsgSelected.name}}</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content *ngIf=\\\"loading\\\" style=\\\" position: fixed; background-color: white; z-index: 999999; top: 43px !important;\\\">\\n  <div style=\\\"padding: 15px\\\">\\n    <span *ngFor=\\\"let el of [1,2,3,4,5,6]\\\">\\n       <div style=\\\"width: 100%; margin-bottom: 20px; height: 30px; position: relative;\\\">\\n        <ion-skeleton-text style=\\\"width: 40%; position: absolute; left: 0\\\" animated></ion-skeleton-text>\\n      </div>\\n      <div style=\\\"width: 100%; margin-bottom: 20px; height: 30px; position: relative;\\\">\\n        <ion-skeleton-text style=\\\"width: 40%; position: absolute; right: 0\\\" animated></ion-skeleton-text>\\n      </div>\\n    </span>\\n  </div>\\n\\n</ion-content>\\n\\n<ion-content #scrollElement style=\\\"margin-top: 20px; transform: rotate(180deg);\\\"  *ngIf=\\\"GlobalFields.msgsSelected\\\" class=\\\"cards-bg social-cards\\\" [ngStyle]=\\\"GlobalFields.getBodyColorBackgroundJson()\\\"  dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n\\n    <div id=\\\"msgContainer\\\" style=\\\"transform: rotate(180deg);\\\" *ngIf=\\\"GlobalFields.msgsSelected && GlobalFields.msgsSelected.ml && GlobalFields.senderMsgSelected\\\" >\\n\\n        <ion-row *ngFor=\\\"let key of getKeysOfObj(GlobalFields.msgsSelected.ml)\\\"   dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n            <ion-col size=\\\"12\\\" style=\\\"padding: 15px; max-width: calc(100% - 60px)\\\"  *ngIf=\\\"GlobalFields.msgsSelected.ml[key]\\\">\\n\\n                <span class=\\\"msgDate\\\" [class.msgMineOther]=\\\"GlobalFields.msgsSelected.ml[key].sender == GlobalFields.senderMsgSelected.id\\\"   dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">{{getGoodStringDate(GlobalFields.msgsSelected.ml[key].utime * 1000)}}</span>\\n                <p class=\\\"msgMine\\\" *ngIf=\\\"GlobalFields.msgsSelected.ml[key].sender != GlobalFields.senderMsgSelected.id\\\"  [ngStyle]=\\\"GlobalFields.getPrimaryColorBackgroundJson()\\\"   dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">{{GlobalFields.msgsSelected.ml[key].message}}</p>\\n                <p class=\\\"msgOther\\\" *ngIf=\\\"GlobalFields.msgsSelected.ml[key].sender == GlobalFields.senderMsgSelected.id\\\"   dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">{{GlobalFields.msgsSelected.ml[key].message}}</p>\\n            </ion-col>\\n        </ion-row>\\n\\n        <p class=\\\"msgMine\\\" *ngIf=\\\"loadingMsg\\\"  [ngStyle]=\\\"GlobalFields.getPrimaryColorBackgroundJson()\\\"   dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\"><i class=\\\"fas fa-spinner fa-spin\\\"></i></p>\\n\\n    </div>\\n\\n\\n  <div style=\\\"transform: rotate(180deg); position: fixed; top: -1px; padding: 10px; padding-bottom:20px; width: 100%; background-color: white\\\">\\n        <textarea id=\\\"myInput\\\" #myInput\\n                  class=\\\"textAreaSend\\\"\\n                  (keyup)=\\\"resize()\\\"\\n                  placeholder=\\\"{{'YOUR_MESSAGE' | translate}}\\\"\\n                  [(ngModel)]=\\\"msgToSend\\\"\\n                  dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\"\\n        ></textarea>\\n    <button class=\\\"btnSend\\\" [ngStyle]=\\\"GlobalFields.getPrimaryColorBackgroundJson()\\\" (click)=\\\"sendMsg()\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\"><i class=\\\"far fa-paper-plane\\\"></i></button>\\n  </div>\\n\\n  <!--<<div style=\\\"transform: rotate(180deg); position: fixed; box-shadow: 0 -1px 2px rgba(0,0,0,.1); top: -1px; padding: 10px; padding-bottom:20px; width: 100%; background-color: white\\\">\\n     <!-row  dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n         <ion-col size=\\\"10\\\">\\n             <ion-textarea style=\\\"border: solid 1px #e3e3e3; padding: 5px; border-radius: 5px;\\\"\\n                     id=\\\"myInput\\\" #myInput\\n                     [autoGrow]=\\\"true\\\"\\n                     [autofocus]=\\\"true\\\"\\n                     placeholder=\\\"{{'YOUR_MESSAGE' | translate}}\\\"\\n                     [(ngModel)]=\\\"msgToSend\\\"\\n                     dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\"\\n             >\\n             </ion-textarea>\\n         </ion-col>\\n         <ion-col size=\\\"2\\\">\\n             <button class=\\\"btnSend\\\" [disabled]=\\\"!this.msgToSend\\\" [ngStyle]=\\\"GlobalFields.getPrimaryColorBackgroundJson()\\\" (click)=\\\"sendMsg()\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\"><i class=\\\"far fa-paper-plane\\\"></i></button>\\n         </ion-col>\\n     </ion-row>\\n\\n    </div>-->\\n</ion-content>\\n\\n\\n\";","export default \"<ion-header translucent=\\\"true\\\" mode=\\\"{{GlobalFields.mode}}\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n  <ion-toolbar>\\n    <!-- If Side menu is used-->\\n    <ion-buttons *ngIf=\\\"GlobalFields.site_details.navigationType==2\\\" slot=\\\"start\\\">\\n      <ion-menu-button style=\\\"color: #3b3c3c\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>{{'MESSAGES' | translate}}</ion-title>\\n    <div *ngIf=\\\"GlobalFields.isLoggedIn\\\" style=\\\"text-align: right\\\"  dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n      <button *ngIf=\\\"!search\\\" class=\\\"btn-search-header\\\" (click)=\\\"search=true\\\">\\n        <i class=\\\"fas fa-edit\\\"></i>\\n      </button>\\n      <button *ngIf=\\\"search\\\" class=\\\"btn-search-header\\\" style=\\\"padding: 8px 10px; color: red\\\" (click)=\\\"search=false; resultSearchListings=undefined\\\">\\n        <i class=\\\"fas fa-times\\\"></i>\\n      </button>\\n    </div>\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<!-- Login -->\\n<ion-content *ngIf=\\\"!GlobalFields.isLoggedIn\\\" class=\\\"cards-bg social-cards\\\" style=\\\"margin-top: 20px; padding: 15px\\\"\\n             [ngStyle]=\\\"GlobalFields.getBodyColorBackgroundJson()\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n  <!-- [ngStyle]=\\\"GlobalFields.getBodyColorBackgroundJson()\\\"  -->\\n\\n  <ion-header collapse=\\\"condense\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n    <ion-toolbar style=\\\"padding: 15px\\\">\\n      <ion-title size=\\\"large\\\">{{'MESSAGES' | translate}}</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  <div class=\\\"pageSection\\\" style=\\\"margin: 15px; margin-top: 20px;\\\">\\n    <loginComponent (loginComplete)=\\\"initMsg()\\\"></loginComponent>\\n  </div>\\n</ion-content>\\n\\n\\n<!-- Msg list-->\\n<ion-content *ngIf=\\\"GlobalFields.isLoggedIn\\\" class=\\\"cards-bg social-cards\\\" style=\\\"margin-top: 10px;\\\"\\n             [ngStyle]=\\\"GlobalFields.getBodyColorBackgroundJson()\\\" dir=\\\"{{GlobalFields.getLanguageLayout()}}\\\">\\n\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar style=\\\"padding: 15px\\\">\\n      <ion-title size=\\\"large\\\">{{'MESSAGES' | translate}}</ion-title>\\n    </ion-toolbar>\\n    <ion-toolbar *ngIf=\\\"search\\\">\\n      <ion-searchbar #searchInput placeholder=\\\"{{'START_A_NEW_CHAT' | translate}}\\\" animated showCancelButton=\\\"focus\\\"\\n                     (ionInput)=\\\"searchByName($event);\\\" (ionClear)=\\\"resultSearchListings=[]; search=false\\\"\\n                     (keyup.enter)=\\\"doTheSearch(); search=true\\\"\\n                     (keypress)=\\\"doTheSearch($event); search=true\\\"></ion-searchbar>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <!-- Only for android-->\\n  <span class=\\\"hide-ios\\\" *ngIf=\\\"search\\\">\\n        <ion-searchbar #searchInput animated showCancelButton=\\\"focus\\\" (ionInput)=\\\"searchByName($event);\\\"\\n                       (ionClear)=\\\"resultSearchListings=[]; search=false\\\" (keyup.enter)=\\\"doTheSearch(); search=true\\\"\\n                       (keypress)=\\\"doTheSearch($event); search=true\\\"></ion-searchbar>\\n  </span>\\n\\n<!--\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"refreshChats($event)\\\">\\n    <ion-refresher-content>\\n    </ion-refresher-content>\\n  </ion-refresher>\\n-->\\n  <!-- Loading animation-->\\n  <div *ngIf=\\\"loadingChats\\\">\\n    <ion-list *ngFor=\\\"let item of [1,2,3,4,5,6,7,8,9,10]\\\">\\n      <ion-item>\\n        <ion-avatar slot=\\\"start\\\">\\n          <ion-skeleton-text animated></ion-skeleton-text>\\n        </ion-avatar>\\n        <ion-label>\\n          <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n          <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n          <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n        </ion-label>\\n      </ion-item>\\n    </ion-list>\\n  </div>\\n\\n  <div *ngIf=\\\"search\\\">\\n    <ion-row *ngFor=\\\"let user of resultSearchListings\\\" style=\\\"line-height: 64px;\\\"\\n             (click)=\\\"getMessages(user); search=false\\\">\\n      <img class=\\\"avatarImg\\\" src=\\\"{{user.avatar}}\\\" style=\\\"margin: 5px; margin-right: 15px;\\\">\\n      {{user.name}}\\n    </ion-row>\\n  </div>\\n\\n  <div style=\\\"width: 100%;\\\" *ngIf=\\\"!loadingChats && chats && !search\\\">\\n    <ion-list>\\n      <ion-item *ngFor=\\\"let chat of chats.chats\\\" (click)=\\\"getMessages(chat.op)\\\" button>\\n     <!-- <ion-item *ngFor=\\\"let key of getKeysOfObj(chats.ml)\\\" (click)=\\\"getMessages(chats.ml[key].op)\\\" button>-->\\n        <ion-avatar slot=\\\"start\\\">\\n          <img src=\\\"{{chat.op.avatar}}\\\">\\n        </ion-avatar>\\n        <ion-label>\\n          <h2 [class]=\\\"'chatName ' +(chat.seen == '0' ? 'newText' : '')\\\">{{chat.op.name}}</h2>\\n          <h3 [class]=\\\"'chatMsg ' +(chat.seen == '0' ? 'newText' : '')\\\">{{chat.message}}</h3>\\n          <p>{{getGoodStringDate(chat.utime * 1000)}}</p>\\n        </ion-label>\\n      </ion-item>\\n    </ion-list>\\n\\n\\n    <!--\\n\\n                <ion-row [className]=\\\"'rowListType ' + isWhiteBackgroundBoxShadow()\\\" >\\n                    <ion-col size=\\\"2\\\" style=\\\"padding: 0 !important; text-align: center; margin-top: 8px;\\\" *ngIf=\\\"chats.ml[key]\\\">\\n                        <img  [class]=\\\"'avatarImg ' +(chats.ml[key].seen == '0' ? 'newImg' : '')\\\"  src=\\\"{{chats.ml[key].op.avatar}}\\\">\\n                    </ion-col>\\n                    <ion-col size=\\\"10\\\" style=\\\"padding: 15px; max-width: calc(100% - 60px)\\\"  *ngIf=\\\"chats.ml[key]\\\">\\n                        <div style=\\\"text-align: left;\\\">\\n                            <div [class]=\\\"'chatName ' +(chats.ml[key].seen == '0' ? 'newText' : '')\\\">{{chats.ml[key].op.name}}</div>\\n                            <div [class]=\\\"'chatMsg ' +(chats.ml[key].seen == '0' ? 'newText' : '')\\\">{{chats.ml[key].message}}</div>\\n                            <div class=\\\"chatTime\\\">\\n                                {{getGoodStringDate(chats.ml[key].utime * 1000)}}\\n                            </div>\\n                        </div>\\n                    </ion-col>\\n                </ion-row>-->\\n  </div>\\n\\n\\n</ion-content>\\n\\n\";","export default \".textAreaSend {\\n  float: left;\\n  width: calc(100% - 50px);\\n  background: transparent !important;\\n  border: solid 1px #dedede !important;\\n  padding: 10px;\\n  font-size: 16px;\\n  color: #242429;\\n  min-height: 35px;\\n  line-height: 1.2;\\n  height: 35px;\\n  box-shadow: none !important;\\n  transition: 0.2s ease;\\n  border-radius: 15px;\\n  font-size: 15px;\\n}\\n\\n.textAreaSend[dir=rtl] {\\n  float: right;\\n}\\n\\n.avatarImg {\\n  width: 30px;\\n  height: 30px;\\n  min-height: 30px;\\n  min-width: 30px;\\n  border-radius: 50%;\\n  margin-right: 5px;\\n}\\n\\n.btnSend {\\n  background: #6c1cff;\\n  color: #fff;\\n  border: #ffdead;\\n  border-radius: 50px;\\n  height: 40px;\\n  width: 40px;\\n  float: right;\\n  outline: none !important;\\n  transition: 0.2s ease;\\n  display: flex;\\n  align-items: center;\\n  font-size: 14pt;\\n  padding-left: 9px;\\n}\\n\\n.btnSend[dir=rtl] {\\n  float: left;\\n  padding-left: 0px;\\n  padding-right: 12px;\\n}\\n\\n.btnSend:disabled {\\n  opacity: 0.4;\\n}\\n\\n.msgMine {\\n  float: right;\\n  background: #6c1cff;\\n  color: #fff;\\n  border-radius: 10px 0 10px 10px;\\n  word-break: break-word;\\n  overflow: hidden;\\n  margin: 0;\\n  padding: 9px 15px;\\n  font-size: 15px;\\n  line-height: 22px !important;\\n}\\n\\n.msgMine[dir=rtl] {\\n  float: left;\\n}\\n\\n.msgOther {\\n  float: left;\\n  background: rgba(189, 189, 189, 0.21);\\n  color: #242429;\\n  border-radius: 0 10px 10px 10px;\\n  word-break: break-word;\\n  overflow: hidden;\\n  margin: 0;\\n  padding: 9px 15px;\\n  font-size: 15px;\\n  line-height: 22px !important;\\n}\\n\\n.msgOther[dir=rtl] {\\n  float: right;\\n}\\n\\n.msgDate {\\n  font-size: 8px;\\n  display: block;\\n  margin-bottom: 5px;\\n  color: #7e7e89;\\n  text-align: right;\\n}\\n\\n.msgDate[dir=rtl] {\\n  text-align: left;\\n}\\n\\n.msgMineOther {\\n  text-align: left !important;\\n}\\n\\n#msgContainer {\\n  width: 100%;\\n  padding: 15px;\\n  padding-bottom: 35px;\\n  margin-top: 115px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lbW1hbnVlbGtldGNoYWJlcGEvRGVza3RvcC9jdXN0b21saXN0aW5nYXBwX3YxXzZfMi9hcHAvc3JjL2FwcC9tZXNzYWdlc1BhZ2UvY2hhdFBhZ2UvY2hhdFBhZ2Uuc2NzcyIsInNyYy9hcHAvbWVzc2FnZXNQYWdlL2NoYXRQYWdlL2NoYXRQYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0VBQ0Esd0JBQUE7RUFDQSxrQ0FBQTtFQUNBLG9DQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSwyQkFBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0FDQ0Y7O0FERUE7RUFDRSxZQUFBO0FDQ0Y7O0FER0E7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7QUNBRjs7QURHQTtFQUNFLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHdCQUFBO0VBQ0EscUJBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7QUNBRjs7QURJQTtFQUNFLFdBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0FDREY7O0FES0E7RUFDRSxZQUFBO0FDRkY7O0FES0E7RUFDRSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0VBQ0EsK0JBQUE7RUFDQSxzQkFBQTtFQUNBLGdCQUFBO0VBQ0EsU0FBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLDRCQUFBO0FDRkY7O0FES0E7RUFDRSxXQUFBO0FDRkY7O0FES0E7RUFDRSxXQUFBO0VBQ0EscUNBQUE7RUFDQSxjQUFBO0VBQ0EsK0JBQUE7RUFDQSxzQkFBQTtFQUNBLGdCQUFBO0VBQ0EsU0FBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLDRCQUFBO0FDRkY7O0FES0E7RUFDRSxZQUFBO0FDRkY7O0FES0E7RUFDRSxjQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsY0FBQTtFQUNBLGlCQUFBO0FDRkY7O0FES0E7RUFDRSxnQkFBQTtBQ0ZGOztBREtBO0VBQ0UsMkJBQUE7QUNGRjs7QURLQTtFQUNFLFdBQUE7RUFDQSxhQUFBO0VBQ0Esb0JBQUE7RUFDQSxpQkFBQTtBQ0ZGIiwiZmlsZSI6InNyYy9hcHAvbWVzc2FnZXNQYWdlL2NoYXRQYWdlL2NoYXRQYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGV4dEFyZWFTZW5ke1xuICBmbG9hdDogbGVmdDtcbiAgd2lkdGg6IGNhbGMoMTAwJSAtIDUwcHgpO1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50O1xuICBib3JkZXI6IHNvbGlkIDFweCAjZGVkZWRlICFpbXBvcnRhbnQ7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgY29sb3I6ICMyNDI0Mjk7XG4gIG1pbi1oZWlnaHQ6IDM1cHg7XG4gIGxpbmUtaGVpZ2h0OiAxLjI7XG4gIGhlaWdodDogMzVweDtcbiAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50O1xuICB0cmFuc2l0aW9uOiAwLjJzIGVhc2U7XG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gIGZvbnQtc2l6ZTogMTVweDtcbn1cblxuLnRleHRBcmVhU2VuZFtkaXI9XCJydGxcIl17XG4gIGZsb2F0OiByaWdodDtcbn1cblxuXG4uYXZhdGFySW1ne1xuICB3aWR0aDogMzBweDtcbiAgaGVpZ2h0OiAzMHB4O1xuICBtaW4taGVpZ2h0OiAzMHB4O1xuICBtaW4td2lkdGg6IDMwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5cbi5idG5TZW5ke1xuICBiYWNrZ3JvdW5kOiAjNmMxY2ZmO1xuICBjb2xvcjogI2ZmZjtcbiAgYm9yZGVyOiAjZmZkZWFkO1xuICBib3JkZXItcmFkaXVzOiA1MHB4O1xuICBoZWlnaHQ6IDQwcHg7XG4gIHdpZHRoOiA0MHB4O1xuICBmbG9hdDogcmlnaHQ7XG4gIG91dGxpbmU6IG5vbmUgIWltcG9ydGFudDtcbiAgdHJhbnNpdGlvbjogLjJzIGVhc2U7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMTRwdDtcbiAgcGFkZGluZy1sZWZ0OiA5cHg7XG59XG5cblxuLmJ0blNlbmRbZGlyPVwicnRsXCJde1xuICBmbG9hdDogbGVmdDtcbiAgcGFkZGluZy1sZWZ0OiAwcHg7XG4gIHBhZGRpbmctcmlnaHQ6IDEycHg7XG5cbn1cblxuLmJ0blNlbmQ6ZGlzYWJsZWR7XG4gIG9wYWNpdHk6IDAuNDtcbn1cblxuLm1zZ01pbmV7XG4gIGZsb2F0OiByaWdodDtcbiAgYmFja2dyb3VuZDogIzZjMWNmZjtcbiAgY29sb3I6ICNmZmY7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHggMCAxMHB4IDEwcHg7XG4gIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogOXB4IDE1cHg7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgbGluZS1oZWlnaHQ6IDIycHghaW1wb3J0YW50O1xufVxuXG4ubXNnTWluZVtkaXI9XCJydGxcIl17XG4gIGZsb2F0OiBsZWZ0O1xufVxuXG4ubXNnT3RoZXJ7XG4gIGZsb2F0OiBsZWZ0O1xuICBiYWNrZ3JvdW5kOiByZ2JhKDE4OSwgMTg5LCAxODksIDAuMjEpO1xuICBjb2xvcjogIzI0MjQyOTtcbiAgYm9yZGVyLXJhZGl1czogMCAxMHB4IDEwcHggMTBweDtcbiAgd29yZC1icmVhazogYnJlYWstd29yZDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiA5cHggMTVweDtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBsaW5lLWhlaWdodDogMjJweCFpbXBvcnRhbnQ7XG59XG5cbi5tc2dPdGhlcltkaXI9XCJydGxcIl17XG4gIGZsb2F0OiByaWdodDtcbn1cblxuLm1zZ0RhdGV7XG4gIGZvbnQtc2l6ZTogOHB4O1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICBjb2xvcjogIzdlN2U4OTtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi5tc2dEYXRlW2Rpcj1cInJ0bFwiXXtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbn1cblxuLm1zZ01pbmVPdGhlcntcbiAgdGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50O1xufVxuXG4jbXNnQ29udGFpbmVye1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMTVweDtcbiAgcGFkZGluZy1ib3R0b206IDM1cHg7XG4gIG1hcmdpbi10b3A6IDExNXB4O1xufVxuIiwiLnRleHRBcmVhU2VuZCB7XG4gIGZsb2F0OiBsZWZ0O1xuICB3aWR0aDogY2FsYygxMDAlIC0gNTBweCk7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XG4gIGJvcmRlcjogc29saWQgMXB4ICNkZWRlZGUgIWltcG9ydGFudDtcbiAgcGFkZGluZzogMTBweDtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBjb2xvcjogIzI0MjQyOTtcbiAgbWluLWhlaWdodDogMzVweDtcbiAgbGluZS1oZWlnaHQ6IDEuMjtcbiAgaGVpZ2h0OiAzNXB4O1xuICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XG4gIHRyYW5zaXRpb246IDAuMnMgZWFzZTtcbiAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgZm9udC1zaXplOiAxNXB4O1xufVxuXG4udGV4dEFyZWFTZW5kW2Rpcj1ydGxdIHtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG4uYXZhdGFySW1nIHtcbiAgd2lkdGg6IDMwcHg7XG4gIGhlaWdodDogMzBweDtcbiAgbWluLWhlaWdodDogMzBweDtcbiAgbWluLXdpZHRoOiAzMHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xufVxuXG4uYnRuU2VuZCB7XG4gIGJhY2tncm91bmQ6ICM2YzFjZmY7XG4gIGNvbG9yOiAjZmZmO1xuICBib3JkZXI6ICNmZmRlYWQ7XG4gIGJvcmRlci1yYWRpdXM6IDUwcHg7XG4gIGhlaWdodDogNDBweDtcbiAgd2lkdGg6IDQwcHg7XG4gIGZsb2F0OiByaWdodDtcbiAgb3V0bGluZTogbm9uZSAhaW1wb3J0YW50O1xuICB0cmFuc2l0aW9uOiAwLjJzIGVhc2U7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMTRwdDtcbiAgcGFkZGluZy1sZWZ0OiA5cHg7XG59XG5cbi5idG5TZW5kW2Rpcj1ydGxdIHtcbiAgZmxvYXQ6IGxlZnQ7XG4gIHBhZGRpbmctbGVmdDogMHB4O1xuICBwYWRkaW5nLXJpZ2h0OiAxMnB4O1xufVxuXG4uYnRuU2VuZDpkaXNhYmxlZCB7XG4gIG9wYWNpdHk6IDAuNDtcbn1cblxuLm1zZ01pbmUge1xuICBmbG9hdDogcmlnaHQ7XG4gIGJhY2tncm91bmQ6ICM2YzFjZmY7XG4gIGNvbG9yOiAjZmZmO1xuICBib3JkZXItcmFkaXVzOiAxMHB4IDAgMTBweCAxMHB4O1xuICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDlweCAxNXB4O1xuICBmb250LXNpemU6IDE1cHg7XG4gIGxpbmUtaGVpZ2h0OiAyMnB4ICFpbXBvcnRhbnQ7XG59XG5cbi5tc2dNaW5lW2Rpcj1ydGxdIHtcbiAgZmxvYXQ6IGxlZnQ7XG59XG5cbi5tc2dPdGhlciB7XG4gIGZsb2F0OiBsZWZ0O1xuICBiYWNrZ3JvdW5kOiByZ2JhKDE4OSwgMTg5LCAxODksIDAuMjEpO1xuICBjb2xvcjogIzI0MjQyOTtcbiAgYm9yZGVyLXJhZGl1czogMCAxMHB4IDEwcHggMTBweDtcbiAgd29yZC1icmVhazogYnJlYWstd29yZDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiA5cHggMTVweDtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBsaW5lLWhlaWdodDogMjJweCAhaW1wb3J0YW50O1xufVxuXG4ubXNnT3RoZXJbZGlyPXJ0bF0ge1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbi5tc2dEYXRlIHtcbiAgZm9udC1zaXplOiA4cHg7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gIGNvbG9yOiAjN2U3ZTg5O1xuICB0ZXh0LWFsaWduOiByaWdodDtcbn1cblxuLm1zZ0RhdGVbZGlyPXJ0bF0ge1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuXG4ubXNnTWluZU90aGVyIHtcbiAgdGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50O1xufVxuXG4jbXNnQ29udGFpbmVyIHtcbiAgd2lkdGg6IDEwMCU7XG4gIHBhZGRpbmc6IDE1cHg7XG4gIHBhZGRpbmctYm90dG9tOiAzNXB4O1xuICBtYXJnaW4tdG9wOiAxMTVweDtcbn0iXX0= */\";","import {Component, ElementRef, ViewChild} from '@angular/core';\nimport {Chat} from '../../entities/Chat';\nimport {Service} from '../../services/Service';\nimport {DomSanitizer} from '@angular/platform-browser';\nimport {TranslateService} from '@ngx-translate/core';\nimport {LocationService} from '../../services/LocationService';\nimport {IonContent, NavController} from '@ionic/angular';\nimport {GlobalFields} from '../../../app/GlobalFields';\nimport {Router} from '@angular/router';\n\n\n@Component({\n  selector: 'chatPage',\n  templateUrl: 'chatPage.html',\n  styleUrls: ['chatPage.scss']\n\n})\nexport class ChatPage {\n  @ViewChild('scrollElement') content: IonContent;\n\n\n  GlobalFields = GlobalFields;\n\n  msgsSelected: Chat;\n\n  msgToSend = '';\n\n  loading = true;\n  loadingMsg = false;\n\n  refresher;\n\n  constructor(public service: Service, private _sanitizer: DomSanitizer, public translate: TranslateService,\n              private locationService: LocationService, private navController: NavController, private router: Router) {\n\n  }\n\n\n  ionViewDidEnter() {\n\n    if (this.GlobalFields.senderMsgSelected && this.GlobalFields.senderMsgSelected.id) {\n      this.service.getMsgsOfAChat(this.GlobalFields.senderMsgSelected.id).subscribe((data: any) => {\n        this.GlobalFields.msgsSelected = data;\n        this.loading = false;\n        this.resize();\n        // this.content.scrollToBottom();\n\n        if (GlobalFields.senderMsgSelected)\n          console.log('Mark as seen');\n        this.service.markAsSeenChat(GlobalFields.senderMsgSelected.id).subscribe((data: any) => {\n        });\n\n        this.refresher = setInterval(() => {\n          this.refreshChat();\n        }, 2000);\n      }, e => {\n        this.router.navigateByUrl('tabs/messages');\n      });\n    } else\n      this.router.navigateByUrl('tabs/messages');\n  }\n\n  ionViewWillLeave() {\n    // this.GlobalFields.msgsSelected = undefined;\n    clearInterval(this.refresher);\n  }\n\n  getKeysOfObj(obj) {\n    const res = Object.keys(obj);\n    if (!res)\n      return [];\n    return res;\n  }\n\n  resize() {\n    /*const input = document.getElementById('myInput');\n    const container = document.getElementById('msgContainer');\n    if (input && container) {\n        let newHeight = input.scrollHeight > (window.innerHeight / 2) ? Math.round(window.innerHeight / 2) : input.scrollHeight;\n        if (!this.msgToSend || this.msgToSend == \"\")\n            newHeight = 35;\n        //input.style.height = (newHeight) + 'px';\n        container.style.marginBottom = (newHeight + 50) + 'px';\n        container.scrollTop = container.scrollHeight;\n    }\n    this.content.scrollToBottom();\n   */\n  }\n\n  getGoodStringDate(timestamp: number) {\n    return new Date(timestamp).toLocaleString();\n  }\n\n  sendMsg() {\n\n\n    const msg = this.msgToSend;\n    this.msgToSend = undefined;\n\n    this.loadingMsg = true;\n    //this.content.scrollToBottom();\n    this.content.scrollToTop();\n    setTimeout(() => {\n      this.resize();\n      //this.content.scrollToBottom();\n      this.content.scrollToTop();\n    }, 100);\n\n    if (msg) {\n      this.service.sendMsg(msg, GlobalFields.senderMsgSelected.id).subscribe(() => {\n        this.loadingMsg = false;\n        this.refreshChat(true);\n      }), err => {\n        console.log(err);\n        this.msgToSend = msg;\n        this.loadingMsg = false;\n      };\n    }\n\n  }\n\n\n  refreshChat(scroll?: boolean) {\n    console.log('RefreshChat');\n    if (GlobalFields.senderMsgSelected)\n      this.service.getMsgsOfAChat(GlobalFields.senderMsgSelected.id).subscribe((data: any) => {\n        this.GlobalFields.msgsSelected = data;\n        if (scroll) {\n          setTimeout(() => {\n            this.resize();\n            // this.content.scrollToBottom();\n          }, 500);\n\n        }\n      });\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport {NgModule} from \"@angular/core\";\nimport {TranslateModule} from \"@ngx-translate/core\";\nimport {SharedModule} from '../shared.module';\nimport {MessagesPage} from './messagesPage';\nimport {ChatPage} from './chatPage/chatPage';\nimport {LoginComponentModule} from '../menuPage/loginComponent/loginComponent.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        SharedModule,\n        RouterModule.forChild([\n            {\n                path: '',\n                component: MessagesPage\n            },\n            {\n                path: 'chatPage',\n                component: ChatPage\n            }\n        ]),\n        TranslateModule,\n        LoginComponentModule\n    ],\n    declarations: [MessagesPage, ChatPage]\n})\nexport class MessagesPageModule {}\n","export default \".boxShadowList {\\n  box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.1);\\n}\\n\\n.rowListType {\\n  background: white;\\n  margin-bottom: 10px;\\n  border-radius: 5px;\\n  padding: 0 5px 0 5px;\\n}\\n\\n.avatarImg {\\n  width: 54px;\\n  height: 54px;\\n  min-height: 54px;\\n  min-width: 54px;\\n  border-radius: 50%;\\n}\\n\\n.newImg {\\n  border: 2px solid #f24286;\\n  padding: 2px;\\n  width: 56px !important;\\n  height: 56px !important;\\n  min-height: 56px !important;\\n  min-width: 56px !important;\\n}\\n\\n.newText {\\n  color: #242429 !important;\\n  font-weight: 600 !important;\\n}\\n\\n.chatName {\\n  color: #242429;\\n  font-weight: 600;\\n  font-size: 11pt;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  text-transform: capitalize;\\n  max-width: calc(100% - 20px);\\n}\\n\\n.chatMsg {\\n  font-size: 9pt;\\n  line-height: 17px;\\n  margin-top: 5px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  text-transform: capitalize;\\n  margin-bottom: 0;\\n  color: #7e7e89;\\n  max-width: calc(100% - 20px);\\n}\\n\\n.chatTime {\\n  position: absolute;\\n  right: 0px;\\n  text-align: right;\\n  top: 0;\\n  height: 100%;\\n  padding: 9px 0px 15px 80px;\\n  font-size: 9px;\\n  color: #7e7e89;\\n  display: grid;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lbW1hbnVlbGtldGNoYWJlcGEvRGVza3RvcC9jdXN0b21saXN0aW5nYXBwX3YxXzZfMi9hcHAvc3JjL2FwcC9tZXNzYWdlc1BhZ2UvbWVzc2FnZXNQYWdlLnNjc3MiLCJzcmMvYXBwL21lc3NhZ2VzUGFnZS9tZXNzYWdlc1BhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUVFLDBDQUFBO0FDQUY7O0FESUE7RUFDRSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxvQkFBQTtBQ0RGOztBRElBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtBQ0RGOztBRElBO0VBQ0UseUJBQUE7RUFDQSxZQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtFQUNBLDJCQUFBO0VBQ0EsMEJBQUE7QUNERjs7QURJQTtFQUNFLHlCQUFBO0VBQ0EsMkJBQUE7QUNERjs7QURJQTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsdUJBQUE7RUFDQSwwQkFBQTtFQUNBLDRCQUFBO0FDREY7O0FESUE7RUFDRSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0VBQ0EsMEJBQUE7RUFDQSxnQkFBQTtFQUNBLGNBQUE7RUFDQSw0QkFBQTtBQ0RGOztBRElBO0VBQ0Usa0JBQUE7RUFDQSxVQUFBO0VBQ0EsaUJBQUE7RUFDQSxNQUFBO0VBQ0EsWUFBQTtFQUNBLDBCQUFBO0VBQ0EsY0FBQTtFQUNBLGNBQUE7RUFDQSxhQUFBO0FDREYiLCJmaWxlIjoic3JjL2FwcC9tZXNzYWdlc1BhZ2UvbWVzc2FnZXNQYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi5ib3hTaGFkb3dMaXN0e1xuICAtd2Via2l0LWJveC1zaGFkb3c6IDAgM3B4IDZweCAwIHJnYmEoMCwwLDAsLjEpO1xuICBib3gtc2hhZG93OiAwIDNweCA2cHggMCByZ2JhKDAsMCwwLC4xKTtcbn1cblxuXG4ucm93TGlzdFR5cGV7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIHBhZGRpbmc6IDAgNXB4IDAgNXB4O1xufVxuXG4uYXZhdGFySW1ne1xuICB3aWR0aDogNTRweDtcbiAgaGVpZ2h0OiA1NHB4O1xuICBtaW4taGVpZ2h0OiA1NHB4O1xuICBtaW4td2lkdGg6IDU0cHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbn1cblxuLm5ld0ltZ3tcbiAgYm9yZGVyOiAycHggc29saWQgI2YyNDI4NjtcbiAgcGFkZGluZzogMnB4O1xuICB3aWR0aDogNTZweCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDU2cHggIWltcG9ydGFudDtcbiAgbWluLWhlaWdodDogNTZweCAhaW1wb3J0YW50O1xuICBtaW4td2lkdGg6IDU2cHggIWltcG9ydGFudDtcbn1cblxuLm5ld1RleHR7XG4gIGNvbG9yOiAjMjQyNDI5IWltcG9ydGFudDtcbiAgZm9udC13ZWlnaHQ6IDYwMCFpbXBvcnRhbnQ7XG59XG5cbi5jaGF0TmFtZXtcbiAgY29sb3I6ICMyNDI0Mjk7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGZvbnQtc2l6ZTogMTFwdDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xuICBtYXgtd2lkdGg6IGNhbGMoMTAwJSAtIDIwcHgpO1xufVxuXG4uY2hhdE1zZ3tcbiAgZm9udC1zaXplOiA5cHQ7XG4gIGxpbmUtaGVpZ2h0OiAxN3B4O1xuICBtYXJnaW4tdG9wOiA1cHg7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcbiAgbWFyZ2luLWJvdHRvbTogMDtcbiAgY29sb3I6ICM3ZTdlODk7XG4gIG1heC13aWR0aDogY2FsYygxMDAlIC0gMjBweCk7XG59XG5cbi5jaGF0VGltZXtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMHB4O1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgdG9wOiAwO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHBhZGRpbmc6IDlweCAwcHggMTVweCA4MHB4O1xuICBmb250LXNpemU6IDlweDtcbiAgY29sb3I6ICM3ZTdlODk7XG4gIGRpc3BsYXk6IGdyaWQ7XG59XG4iLCIuYm94U2hhZG93TGlzdCB7XG4gIC13ZWJraXQtYm94LXNoYWRvdzogMCAzcHggNnB4IDAgcmdiYSgwLCAwLCAwLCAwLjEpO1xuICBib3gtc2hhZG93OiAwIDNweCA2cHggMCByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG5cbi5yb3dMaXN0VHlwZSB7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIHBhZGRpbmc6IDAgNXB4IDAgNXB4O1xufVxuXG4uYXZhdGFySW1nIHtcbiAgd2lkdGg6IDU0cHg7XG4gIGhlaWdodDogNTRweDtcbiAgbWluLWhlaWdodDogNTRweDtcbiAgbWluLXdpZHRoOiA1NHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG59XG5cbi5uZXdJbWcge1xuICBib3JkZXI6IDJweCBzb2xpZCAjZjI0Mjg2O1xuICBwYWRkaW5nOiAycHg7XG4gIHdpZHRoOiA1NnB4ICFpbXBvcnRhbnQ7XG4gIGhlaWdodDogNTZweCAhaW1wb3J0YW50O1xuICBtaW4taGVpZ2h0OiA1NnB4ICFpbXBvcnRhbnQ7XG4gIG1pbi13aWR0aDogNTZweCAhaW1wb3J0YW50O1xufVxuXG4ubmV3VGV4dCB7XG4gIGNvbG9yOiAjMjQyNDI5ICFpbXBvcnRhbnQ7XG4gIGZvbnQtd2VpZ2h0OiA2MDAgIWltcG9ydGFudDtcbn1cblxuLmNoYXROYW1lIHtcbiAgY29sb3I6ICMyNDI0Mjk7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG4gIGZvbnQtc2l6ZTogMTFwdDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xuICBtYXgtd2lkdGg6IGNhbGMoMTAwJSAtIDIwcHgpO1xufVxuXG4uY2hhdE1zZyB7XG4gIGZvbnQtc2l6ZTogOXB0O1xuICBsaW5lLWhlaWdodDogMTdweDtcbiAgbWFyZ2luLXRvcDogNXB4O1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG4gIG1hcmdpbi1ib3R0b206IDA7XG4gIGNvbG9yOiAjN2U3ZTg5O1xuICBtYXgtd2lkdGg6IGNhbGMoMTAwJSAtIDIwcHgpO1xufVxuXG4uY2hhdFRpbWUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwcHg7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xuICB0b3A6IDA7XG4gIGhlaWdodDogMTAwJTtcbiAgcGFkZGluZzogOXB4IDBweCAxNXB4IDgwcHg7XG4gIGZvbnQtc2l6ZTogOXB4O1xuICBjb2xvcjogIzdlN2U4OTtcbiAgZGlzcGxheTogZ3JpZDtcbn0iXX0= */\";","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {NavController, Platform, PopoverController} from '@ionic/angular';\nimport {Listing} from '../../app/entities/listing';\nimport {GlobalFields} from '../../app/GlobalFields';\nimport {StatusBar} from '@ionic-native/status-bar/ngx';\n\nimport {Service} from '../services/Service';\n\n\nimport 'hammerjs';\nimport {TranslateService} from '@ngx-translate/core';\nimport {DomSanitizer} from '@angular/platform-browser';\nimport {LocationService} from '../services/LocationService';\nimport {Chat} from '../entities/Chat';\nimport {Profile} from '../entities/profile';\nimport {User} from '../entities/user';\n\n@Component({\n  selector: 'messagesPage',\n  templateUrl: 'messagesPage.html',\n  styleUrls: ['messagesPage.scss']\n\n})\nexport class MessagesPage implements OnInit {\n  // @ViewChild('search') searchInput : any;\n\n  chats: Chat;\n\n  loadingChats = true;\n\n  GlobalFields = GlobalFields;\n\n  msgsSelected: Chat;\n\n  search = false;\n  searchString;\n  waitSearch = false;\n  resultSearchListings: User[] = [];\n\n\n  msgToOwner: { avatar?: string; id: number, name?: string };\n\n  refresher;\n\n  constructor(public service: Service, private _sanitizer: DomSanitizer, public translate: TranslateService,\n              private locationService: LocationService, private navController: NavController) {\n\n\n  }\n\n  ngOnInit() {\n    this.initMsg();\n  }\n\n\n  ionViewDidEnter() {\n    this.GlobalFields.showTabs = true;\n\n    if (this.GlobalFields.msgToOwner) {\n      this.msgToOwner = this.GlobalFields.msgToOwner;\n      if (GlobalFields.isLoggedIn)\n        this.getMessages(this.msgToOwner);\n    }\n    this.GlobalFields.msgToOwner = undefined;\n    this.GlobalFields.loading = false;\n\n    //this.GlobalFields.msgsSelected = undefined;\n    console.log('ionViewDidEnter');\n\n    if (this.GlobalFields.isLoggedIn) {\n      this.refresher = setInterval(() => {\n        this.getNewChatsInterval();\n      }, 3000);\n    }\n\n    this.service.setWhiteBlackBackgroundStatusBar();\n\n  }\n\n  ionViewWillLeave() {\n    clearInterval(this.refresher);\n  }\n\n\n  initMsg() {\n\n    if (this.GlobalFields.isLoggedIn) {\n      this.getChats();\n      //this.service.getRecentViewedListing();\n      if (this.msgToOwner)\n        this.getMessages(this.msgToOwner);\n    }\n  }\n\n  getChats() {\n    this.loadingChats = true;\n    this.service.getChats().subscribe((data: any) => {\n      this.chats = data;\n      this.loadingChats = false;\n    }, function (e) {\n      this.service.refreshCookie();\n    });\n  }\n\n  refreshChats(event) {\n    this.loadingChats = true;\n    this.service.getChats().subscribe((data: any) => {\n      this.chats = data;\n      this.loadingChats = false;\n      event.target.complete();\n    });\n  }\n\n  getNewChatsInterval() {\n    console.log('getNewChatsInterval');\n    if (this.GlobalFields.isLoggedIn) {\n      this.service.getChats().subscribe((data: any) => {\n        this.chats = data;\n      });\n    }\n  }\n\n  getMessages(user?: User) {\n    this.msgToOwner = undefined;\n    if (user && user.id) {\n      //this.GlobalFields.loadingSoft = true;\n      this.GlobalFields.senderMsgSelected = user;\n      this.GlobalFields.showTabs = false;\n      this.navController.navigateForward('tabs/messages/chatPage');\n    }\n  }\n\n  isWhiteBackgroundBoxShadow(): string {\n    if (GlobalFields.isWhiteBackground())\n      return '';\n    else\n      return ' boxShadowList';\n  }\n\n  getKeysOfObj(obj) {\n    const res = Object.keys(obj);\n    if (!res)\n      return [];\n    return res;\n  }\n\n\n  getBackground(image: string) {\n    return this._sanitizer.bypassSecurityTrustStyle(`url(${image})`);\n  }\n\n  getGoodStringDate(timestamp: number) {\n    return new Date(timestamp).toLocaleString();\n  }\n\n\n  searchByName(ev: any) {\n    this.searchString = ev.target.value;\n  }\n\n  doTheSearch(event?) {\n\n    console.log('Enter called');\n    console.log(event);\n\n    let doIt = false;\n    if (event && event.key === 'Enter')  // Do stuff}\n      doIt = true;\n    else if (!event)\n      doIt = true;\n\n    if (doIt) {\n      this.resultSearchListings = [];\n\n      setTimeout(() => {\n        this.waitSearch = false;\n        this.loadingChats = true;\n        if (!this.waitSearch && this.searchString && this.searchString != '') {\n          this.service.getMsgUsersByString(this.searchString)\n            .subscribe((data: any) => {\n              this.resultSearchListings = data;\n              this.loadingChats = false;\n            });\n          this.waitSearch = true;\n        }\n      }, 500);\n    }\n  }\n\n  /*setFocusSearchInput(){\n      setTimeout(() => {\n          this.searchInput.setFocus();\n      }, 500);\n  }*/\n}\n"]}